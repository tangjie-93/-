(window.webpackJsonp=window.webpackJsonp||[]).push([[164],{811:function(e,t,_){"use strict";_.r(t);var a=_(69),v=Object(a.a)({},(function(){var e=this,t=e.$createElement,_=e._self._c||t;return _("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[_("h2",{attrs:{id:"_1、什么是服务端渲染"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1、什么是服务端渲染"}},[e._v("#")]),e._v(" 1、什么是服务端渲染")]),e._v(" "),_("p",[e._v("将组件或页面通过服务器生成 "),_("code",[e._v("html")]),e._v(' 字符串，再发送到浏览器，最后将静态标记"混合"为客户端上完全交互的应用程序。')]),e._v(" "),_("h3",{attrs:{id:"ssr的优势"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#ssr的优势"}},[e._v("#")]),e._v(" ssr的优势")]),e._v(" "),_("ul",[_("li",[_("p",[e._v("更利于 "),_("code",[e._v("SEO")]),e._v("。\n不同爬虫工作原理类似，只会爬取源码，不会执行网站的任何脚本（ "),_("code",[e._v("Google")]),e._v(" 除外，据说 "),_("code",[e._v("Googlebot")]),e._v(" 可以运行 "),_("code",[e._v("javaScript")]),e._v(" ）。使用了 "),_("code",[e._v("React")]),e._v(" 或者其它 "),_("code",[e._v("MVVM")]),e._v(" 框架之后，页面大多数 "),_("code",[e._v("DOM")]),e._v(" 元素都是在客户端根据js动态生成，可供爬虫抓取分析的内容大大减少(如图一)。另外，浏览器爬虫不会等待我们的数据完成之后再去抓取我们的页面数据。服务端渲染返回给客户端的是已经获取了异步数据并执行 "),_("code",[e._v("JavaScript")]),e._v(" 脚本的最终 "),_("code",[e._v("HTML")]),e._v("，网络爬中就可以抓取到完整页面的信息。")])]),e._v(" "),_("li",[_("p",[e._v("共用前端代码，节省开发时间")])]),e._v(" "),_("li",[_("p",[e._v("更利于首屏渲染\n首屏的渲染是 "),_("code",[e._v("node")]),e._v(" 发送过来的 "),_("code",[e._v("html")]),e._v(" 字符串，并不依赖于 "),_("code",[e._v("js")]),e._v(" 文件了，这就会使用户更快的看到页面的内容。尤其是针对大型单页应用，打包后文件体积比较大，普通客户端渲染加载所有所需文件时间较长，首页就会有一个很长的白屏等待时间。")])])]),e._v(" "),_("h3",{attrs:{id:"ssr的局限"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#ssr的局限"}},[e._v("#")]),e._v(" ssr的局限")]),e._v(" "),_("ul",[_("li",[_("p",[e._v("服务端压力较大\n本来是通过客户端完成渲染，现在统一到服务端 "),_("code",[e._v("node")]),e._v(" 服务去做。尤其是高并发访问的情况，会大量占用服务端 "),_("code",[e._v("CPU")]),e._v(" 资源；")])]),e._v(" "),_("li",[_("p",[e._v("开发条件受限\n在服务端渲染中，"),_("code",[e._v("created")]),e._v(" 和 "),_("code",[e._v("beforeCreate")]),e._v(" 之外的生命周期钩子不可用，因此项目引用的第三方的库也不可用其它生命周期钩子，这对引用库的选择产生了很大的限制；")])]),e._v(" "),_("li",[_("p",[e._v("学习成本相对较高\n除了对 "),_("code",[e._v("webpack、Vue")]),e._v(" 要熟悉，还需要掌握 "),_("code",[e._v("node、Koa2")]),e._v(" 等相关技术。相对于客户端渲染，项目构建、部署过程更加复杂。")])])]),e._v(" "),_("h2",{attrs:{id:"_2、耗时比较"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2、耗时比较"}},[e._v("#")]),e._v(" 2、耗时比较")]),e._v(" "),_("ul",[_("li",[e._v("数据请求\n由服务端请求首屏数据，而不是客户端请求首屏数据，这是“快”的一个主要原因。服务端在内网进行请求，数据响应速度快。客户端在不同网络环境进行数据请求，且外网http请求开销大，导致时间差。 下图为服务端渲染的数据请求路线和客户端渲染的数据请求路线图。")])]),e._v(" "),_("p",[e._v("服务端渲染路线\n"),_("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/6522842-ee4752e9500e9976.jpeg?imageMogr2/auto-orient/strip|imageView2/2/w/1200/format/webp",alt:"暂无图片",title:"服务端渲染路线"}})]),e._v(" "),_("p",[e._v("客户端渲染路线\n"),_("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/6522842-b86735d102cef2c4.jpeg?imageMogr2/auto-orient/strip|imageView2/2/w/1200/format/webp",alt:"暂无图片",title:"客户端渲染路线"}})]),e._v(" "),_("ul",[_("li",[_("code",[e._v("html")]),e._v(" 渲染\n服务端渲染是先向后端服务器请求数据，然后生成完整首屏 "),_("code",[e._v("html")]),e._v(" 返回给浏览器；而客户端渲染是等 "),_("code",[e._v("js")]),e._v(" 代码下载、加载、解析完成后再请求数据渲染，等待的过程页面是什么都没有的，就是用户看到的白屏。就是服务端渲染不需要等待 "),_("code",[e._v("js")]),e._v(" 代码下载完成并请求数据，就可以返回一个已有完整数据的首屏页面。")])]),e._v(" "),_("p",[e._v("客户端渲染\n"),_("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/6522842-820ed3ef583c5ef0.png?imageMogr2/auto-orient/strip|imageView2/2/w/1200/format/webp",alt:"暂无图片",title:"客户端渲染"}})]),e._v(" "),_("p",[e._v("服务端渲染\n"),_("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/6522842-23923fbd080ccf26.png?imageMogr2/auto-orient/strip|imageView2/2/w/1200/format/webp",alt:"暂无图片",title:"服务端渲染"}})]),e._v(" "),_("h2",{attrs:{id:"_3、服务端渲染的使用场景"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3、服务端渲染的使用场景"}},[e._v("#")]),e._v(" 3、服务端渲染的使用场景")]),e._v(" "),_("p",[e._v("内容丰富，复杂交互的动态网页，对首屏加载有要求的项目，对 "),_("code",[e._v("seo")]),e._v(" 有要求的项目（因为服务端第一次渲染的时候，已经把关键字和标题渲染到响应的 "),_("code",[e._v("html")]),e._v(" 中了，爬虫能够抓取到此静态内容，因此更利于 "),_("code",[e._v("seo")]),e._v("）。此方式一些适合的项目：活动模板，新闻通知类，博客系统，混合开发等等。")])])}),[],!1,null,null,null);t.default=v.exports}}]);