---
title: vue模板和渲染函数
date: '2020-05-18'
type: 技术
tags: vue
note: vue模板和渲染函数
---

## 1、template

## 2、render

## 3、Vue模版编译原理

Vue的编译过程就是将`template`转化为`render`函数的过程。会经历以下阶段：

+ 生成AST树
+ 优化
+ 代码生成

首先解析模版，生成`AST语法树`(一种用`JavaScript` 对象的形式来描述整个模板)。使用大量的正则表达式对模板进行解析，遇到标签、文本的时候都会执行对应的钩子进行相关处理。

`Vue` 的数据是响应式的，但其实模板中并不是所有的数据都是响应式的。有一些数据首次渲染后就不会再变化，对应的 `DOM` 也不会变化。那么优化过程就是深度遍历 `AST` 树，按照相关条件对树节点进行标记。这些被标记的节点(静态节点)我们就可以跳过对它们的比对，对运行时的模板起到很大的优化作用。
编译的最后一步是将优化后的AST树转换为可执行的代码。
