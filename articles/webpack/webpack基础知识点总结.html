<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>个人博客</title>
    <meta name="description" content="个人博客">
    
    
    <link rel="preload" href="/assets/css/0.styles.2e1cc020.css" as="style"><link rel="preload" href="/assets/js/app.c1d9b9ee.js" as="script"><link rel="preload" href="/assets/js/2.c7d58fa6.js" as="script"><link rel="preload" href="/assets/js/31.1e9e6434.js" as="script"><link rel="prefetch" href="/assets/js/10.d2e0cdc1.js"><link rel="prefetch" href="/assets/js/11.c6e284ec.js"><link rel="prefetch" href="/assets/js/12.10f858de.js"><link rel="prefetch" href="/assets/js/13.63697008.js"><link rel="prefetch" href="/assets/js/14.d627be9d.js"><link rel="prefetch" href="/assets/js/15.8420db77.js"><link rel="prefetch" href="/assets/js/16.1e32a0b5.js"><link rel="prefetch" href="/assets/js/17.e1c52886.js"><link rel="prefetch" href="/assets/js/18.5e04705e.js"><link rel="prefetch" href="/assets/js/19.3d0a85ef.js"><link rel="prefetch" href="/assets/js/20.935b98b6.js"><link rel="prefetch" href="/assets/js/21.f847dee8.js"><link rel="prefetch" href="/assets/js/22.b93d7d44.js"><link rel="prefetch" href="/assets/js/23.0ac45a76.js"><link rel="prefetch" href="/assets/js/24.2f6173f8.js"><link rel="prefetch" href="/assets/js/25.1fd72739.js"><link rel="prefetch" href="/assets/js/26.80fe1215.js"><link rel="prefetch" href="/assets/js/27.5d5e7e97.js"><link rel="prefetch" href="/assets/js/28.059a6745.js"><link rel="prefetch" href="/assets/js/29.e46235d3.js"><link rel="prefetch" href="/assets/js/3.11f40a5b.js"><link rel="prefetch" href="/assets/js/30.3878cbe1.js"><link rel="prefetch" href="/assets/js/32.c1b900dc.js"><link rel="prefetch" href="/assets/js/33.8096500a.js"><link rel="prefetch" href="/assets/js/34.fa28a796.js"><link rel="prefetch" href="/assets/js/35.b67c3d40.js"><link rel="prefetch" href="/assets/js/36.756057ed.js"><link rel="prefetch" href="/assets/js/37.b54b948b.js"><link rel="prefetch" href="/assets/js/4.0ffe1fef.js"><link rel="prefetch" href="/assets/js/5.da69e183.js"><link rel="prefetch" href="/assets/js/6.887370ca.js"><link rel="prefetch" href="/assets/js/7.7ad7bd37.js"><link rel="prefetch" href="/assets/js/8.b4bc0ca8.js"><link rel="prefetch" href="/assets/js/9.ac008f1b.js">
    <link rel="stylesheet" href="/assets/css/0.styles.2e1cc020.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">个人博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/articles/其他/personal.html" class="nav-link">简历</a></div><div class="nav-item"><a href="https://juejin.im/user/5bd074165188251ce71d8e2c" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/tangjie-93/tangjie-93.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/articles/其他/personal.html" class="nav-link">简历</a></div><div class="nav-item"><a href="https://juejin.im/user/5bd074165188251ce71d8e2c" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/tangjie-93/tangjie-93.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>css</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>javascript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>linux</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>node</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>typescript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>webpack</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/articles/webpack/webpack基础知识点总结.html" class="active sidebar-link">webpack基础知识点总结</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>其他</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>算法</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p>  &lt;f该思维导图是根据<code>&lt;&lt;深入浅出webpack&gt;&gt;</code>章节大纲总结出来的。通过阅读这本书梳理webpack所包含的知识点，了解了webpack（版本为4.X）的相关配置，以及loader和plugin的原理以及编写。思维导图能够很形象的描述出各知识点之间的关系，同时也能加深知识点在我们心中的印象。画此思维导图的目的也是为了供以后自己复习用的。</p> <img src="https://raw.githubusercontent.com/tangjie-93/tangjie-93.github.io/fd95264a2b93c751839dbb5c922926a2ab74543c/images/webpack.png" alt="webpack.png"> <h3 id="_1、webpack的作用"><a href="#_1、webpack的作用" class="header-anchor">#</a> 1、webpack的作用</h3> <p>  webpack的主要作用是构建，把源代码转换成发布到线上的可执行 JavaScrip、CSS、HTML 代码。在构建的过程中主要做了这几方面的功能。</p> <ul><li>代码转换：将非js文件如 TS 转换成 js，将 scss 转换成 css（Loaderclear）；</li> <li>文件优化：压缩 js、css、html、压缩合并图片（plugin如uglify）。</li> <li>代码分割：提取多个页面的公共代码，提取首屏不需要加载的代码让其异步加载（commons-chunk-plugin）。</li> <li>模块合并：将模块分类合并成一个文件。</li> <li>自动刷新：监听本地代码的变化，自动重新构建、并刷新浏览器（<strong>配置文件watch和watchOPtions及热更新plugin</strong>）。</li> <li>代码校验：代码提交到仓库之前需要校验代码是否符合规范，以及单元测试是否通过。</li> <li>自动发布：更新完代码后，自动构建出线上发布代码并传输到发布系统。</li></ul> <h3 id="_2、webpack核心概念"><a href="#_2、webpack核心概念" class="header-anchor">#</a> 2、webpack核心概念</h3> <ul><li>Entry：入口，Webpack 执行构建的第一步将从 Entry 开始，可抽象成输入。</li> <li>Module：模块，在 Webpack 里一切皆模块，一个模块对应着一个文件。Webpack 会从配置的 Entry 开始递归找出所有依赖的模块。</li> <li>Chunk：代码块，一个 Chunk 由多个模块组合而成，用于代码合并与分割。</li> <li>Loader：模块转换器，用于把模块原内容按照需求转换成新内容。</li> <li>Plugin：扩展插件，在 Webpack 构建流程中的特定时机会广播出对应的事件，插件可以监听这些事件的发生，在特定时机做对应的事情。</li></ul> <h3 id="_3、webpack的常见配置"><a href="#_3、webpack的常见配置" class="header-anchor">#</a> 3、webpack的常见配置</h3> <p><strong>3.1 Entry</strong></p> <p>  构建的入口，Webpack 执行构建的第一步将从 Entry 开始，可抽象成输入。通过搜寻及递归找出所有入口所依赖的模块。<strong>Entry 主要有 String、Array 和 Object 三种类型</strong>。如果为 Array 类型时，搭配 output.library 配置项使用时，只有数组里的最后一个入口文件的模块会被导出。</p> <ul><li>如果 entry 是一个 string或者array，就只会生成一个 Chunk，这时 Chunk 的名称是 main 。</li> <li>如果 entry 是一个 object ，就可能会出现多个 Chunk，这时 Chunk 的名称是 object 键值对中键的名称。</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    module<span class="token punctuation">.</span>exports<span class="token operator">=</span><span class="token punctuation">{</span>
        entry<span class="token operator">:</span><span class="token string">'./app/entry'</span><span class="token punctuation">,</span>	<span class="token comment">//入口模块的文件路径，可以是相对路径。</span>
        entry<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'./app/entry1'</span><span class="token punctuation">,</span> <span class="token string">'./app/entry2'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token comment">//入口模块的文件路径，可以是相对路径。只有1个入口,两个入口文件</span>
        entry<span class="token operator">:</span><span class="token punctuation">{</span> 
            a<span class="token operator">:</span> <span class="token string">'./app/entry-a'</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'./app/entry-b1'</span><span class="token punctuation">,</span> <span class="token string">'./app/entry-b2'</span><span class="token punctuation">]</span>
            <span class="token comment">//配置多个入口，每个入口生成一个 Chunk。两个入口。</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>  有时候由于项目需要，可能需要构建多个页面入口。除了上面的静态页面入口配置，还可以动态配置页面入口。一般有如下两种方式。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token comment">//同步函数</span>
    <span class="token function-variable function">entry</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        index<span class="token operator">:</span> <span class="token string">&quot;@/pages/index&quot;</span><span class="token punctuation">,</span>
        user<span class="token operator">:</span> <span class="token string">&quot;@pages/user&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token comment">//异步函数</span>
    <span class="token function-variable function">entry</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
           a<span class="token operator">:</span><span class="token string">'./pages/a'</span><span class="token punctuation">,</span>
           b<span class="token operator">:</span><span class="token string">'./pages/b'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p><strong>3.2 Output</strong>：</p> <p>  配置如何输出最终想要的代码。output 是一个 object，里面包含一系列配置项，下面分别介绍它们。</p> <ul><li>filename:输出文件的名称，为string 类型。</li> <li>chunkFilename: 配置无入口的 Chunk 在输出时的文件名称。chunkFilename 只用于指定在运行过程中生成的 Chunk 在输出时的文件名称.常见的会在运行时生成 Chunk 场景有在使用 <strong>CommonChunkPlugin、使用 import('path/to/module')</strong> 动态加载等时。</li> <li>path:输出文件存放在本地的目录，必须是 string 类型的绝对路径。通常通过 Node.js 的 path 模块去获取绝对路径。</li> <li>publicPath:加载异步资源对应的 URL 地址。一般为CDN地址。通常用于配置发布到线上资源的 URL 前缀，为string 类型。 默认值是空字符串 ''，即使用相对路径。<strong>output.path 和 output.publicPath 都支持字符串模版，内置变量只有一个：hash 代表一次编译操作的 Hash 值。</strong></li> <li>libraryTarget：配置以何种方式导出库。是字符串的枚举类型。通常搭配target使用。通常有var、commonjs、commonjs2、this、window和global等值。</li> <li>target：配置导出库的名称。</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>  module<span class="token punctuation">.</span>exports<span class="token operator">=</span><span class="token punctuation">{</span>
      <span class="token operator">...</span>
      output<span class="token operator">:</span><span class="token punctuation">{</span>
          <span class="token comment">//如果只有一个输出文件，则可以把它写成静态不变的。</span>
          filename<span class="token operator">:</span><span class="token string">'bundle.js'</span><span class="token punctuation">,</span>
          <span class="token comment">//多个 Chunk 要输出时,可以根据 Chunk 的名称来区分输出的文件名</span>
          filename<span class="token operator">:</span> <span class="token string">'[name].js'</span><span class="token punctuation">,</span><span class="token comment">//可以将[name]看成字符串模板函数。该name为内置的哈希值。</span>
          chunkFilename<span class="token operator">:</span><span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">.</span>js，
          path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          publicPath：<span class="token string">'https://cdn.example.com/assets/'</span>，
          libraryTarget<span class="token operator">:</span><span class="token keyword">var</span>
          
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>内置变量主要有以下这些：</p> <ul><li>id：	Chunk 的唯一标识，从0开始。</li> <li>name：	Chunk 的名称。</li> <li>hash：	Chunk 的唯一标识的 Hash 值。</li> <li>chunkhash：	Chunk 内容的 Hash 值。</li></ul> <p><strong>3.3 Module</strong></p> <p>  模块，在 Webpack 里一切皆模块，一个模块对应着一个文件。Webpack 会从配置的 Entry 开始递归找出所有依赖的模块。主要有这些配置项。</p> <ul><li>rules：用来<strong>配置模块的读取和解析规则</strong>，通常用来配置 loader，是一个数组。配置一项 rule 一般是通过以下几项来完成的。</li> <li>noParse：忽略的文件。</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    module<span class="token punctuation">.</span>exports<span class="token operator">=</span><span class="token punctuation">{</span>
        <span class="token operator">...</span>
        module<span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token comment">//让 Webpack 忽略对部分没采用模块化的文件的递归解析和处理。</span>
            noParse： <span class="token operator">/</span>jquery<span class="token operator">|</span>chartjs<span class="token operator">/</span>
            <span class="token comment">// 从 webpack 3.0.0 开始，也可以是函数</span>
            <span class="token function-variable function">noParse</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">content</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
               <span class="token keyword">return</span> <span class="token operator">/</span>jquery<span class="token operator">|</span>lodash<span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            rules<span class="token operator">:</span><span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    test<span class="token operator">:</span> <span class="token regex">/\.js$/</span><span class="token punctuation">,</span><span class="token comment">//转码执行后缀的文件，一般是正则表达式。可为数组</span>
                    use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'babel-loader?cacheDirectory'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token comment">//?cacheDirectory 表示传给 babel-loader 的参数，用于缓存 babel 编译结果加快重新编译速度。是loader 属性的简写方式.（如：use: [ { loader: &quot;style-loader &quot;} ]）。</span>
                    include<span class="token operator">:</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">&quot;src&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//只命中src文件夹下的就是文件。可为数组</span>
                    <span class="token comment">//解析选项对象。可以更细粒度的配置哪些模块语法要解析哪些不解析</span>
                    parser<span class="token operator">:</span><span class="token punctuation">{</span>
                        amd<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 禁用 AMD</span>
                        commonjs<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 禁用 CommonJS</span>
                        system<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 禁用 SystemJS</span>
                        harmony<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 禁用 ES2015 Harmony import/export</span>
                        requireInclude<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 禁用 require.include</span>
                        requireEnsure<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 禁用 require.ensure</span>
                        requireContext<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 禁用 require.context</span>
                        browserify<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 禁用特殊处理的 browserify bundle</span>
                        requireJs<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 禁用 requirejs.*</span>
                        node<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 禁用 __dirname, __filename, module, require.extensions, require.main 等。</span>
                        node<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span> <span class="token comment">// 在模块级别(module level)上重新配置 node 层(layer)</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    exclude<span class="token operator">:</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">'node_modules'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//排除node_module文件夹下的js文件。可为数组。</span>
                    
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>
                    test<span class="token operator">:</span> <span class="token regex">/\.scss$/</span><span class="token punctuation">,</span>
                    <span class="token comment">// 使用一组 Loader 去处理 SCSS 文件。处理顺序为从后到前，即先交给 sass-loader 处理，再把结果交给 css-loader 最后再给 style-loader。</span>
                    use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span> <span class="token string">'sass-loader'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                    <span class="token comment">// 排除 node_modules 目录下的文件</span>
                    exclude<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'node_modules'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>   
                    test<span class="token operator">:</span> <span class="token regex">/\.js$/</span>
                    use<span class="token operator">:</span><span class="token punctuation">[</span>
                        loader<span class="token operator">:</span><span class="token string">'babel-loader'</span><span class="token punctuation">,</span>
                        <span class="token comment">//在 Loader 需要传入很多参数时，你还可以通过一个 Object 来描述。</span>
                        options<span class="token operator">:</span><span class="token punctuation">{</span>
                          cacheDirectory<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
                        <span class="token punctuation">}</span><span class="token punctuation">,</span>
                        <span class="token comment">// enforce:'post' 的含义是把该 Loader 的执行顺序放到最后。 enforce 的值还可以是 pre，代表把 Loader 的执行顺序放到最前面</span>
                        enforce<span class="token operator">:</span><span class="token string">'post'</span>
                    <span class="token punctuation">]</span>
                 <span class="token punctuation">}</span><span class="token punctuation">,</span>
                 <span class="token comment">//loader还可以采用链式写法。loader从右到左的被调用</span>
                 <span class="token punctuation">{</span>
                    test<span class="token operator">:</span><span class="token regex">/\.css$/</span>
                     use<span class="token operator">:</span> <span class="token punctuation">[</span>
                      <span class="token string">'style-loader'</span><span class="token punctuation">,</span>
                      <span class="token punctuation">{</span>
                        loader<span class="token operator">:</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span>
                        <span class="token comment">//</span>
                        options<span class="token operator">:</span> <span class="token punctuation">{</span>
                          importLoaders<span class="token operator">:</span> <span class="token number">1</span>
                        <span class="token punctuation">}</span>
                      <span class="token punctuation">}</span><span class="token punctuation">,</span>
                      <span class="token punctuation">{</span>
                        loader<span class="token operator">:</span> <span class="token string">'less-loader'</span><span class="token punctuation">,</span>
                        options<span class="token operator">:</span> <span class="token punctuation">{</span>
                          noIeCompat<span class="token operator">:</span> <span class="token boolean">true</span>
                        <span class="token punctuation">}</span>
                      <span class="token punctuation">}</span>
                    <span class="token punctuation">]</span>
                 <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br></div></div><p><strong>3.4 Resolve</strong></p> <p>  Resolve 配置 Webpack 如何寻找模块所对应的文件。设置模块如何被解析。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    module<span class="token punctuation">.</span>exports<span class="token operator">=</span><span class="token punctuation">{</span>
        <span class="token operator">...</span>
        resolve<span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token comment">//通过别名来把原导入路径映射成一个新的导入路径</span>
            alias<span class="token operator">:</span><span class="token punctuation">{</span>
                <span class="token string">'components'</span><span class="token operator">:</span> <span class="token string">'./src/components/'</span><span class="token punctuation">,</span>
                <span class="token string">'@'</span><span class="token operator">:</span><span class="token string">&quot;./src&quot;</span><span class="token punctuation">,</span>
                 <span class="token operator">~</span><span class="token operator">:</span><span class="token string">&quot;./src&quot;</span><span class="token punctuation">,</span>
                <span class="token string">'vue$'</span><span class="token operator">:</span> <span class="token string">'vue/dist/vue.esm.js'</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span>
            <span class="token comment">//指定一个字段，例如 browser(浏览器环境)，根据此规范进行解析。只会使用找到的第一个</span>
            aliasFields<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'browser'</span><span class="token punctuation">,</span> <span class="token string">'main'</span><span class="token punctuation">]</span>
            descriptionFiles<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&quot;package.json&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token comment">//描述文件</span>
            enforceExtension<span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token comment">//是否强制扩展名</span>
            extensions<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&quot;.js&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;.json&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token comment">//自动解析的扩展,导入语句没带文件后缀时，Webpack 会自动带上后缀后去尝试访问文件是否存在.</span>
            modules：<span class="token punctuation">[</span><span class="token string">'./src/components'</span><span class="token punctuation">,</span><span class="token string">'node_modules'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token comment">//告诉 webpack 解析模块时应该搜索的目录。绝对路径和相对路径都能使用。</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p><strong>3.5 Plugins</strong></p> <p>  用于以各种方式自定义 webpack 构建过程。通过在webpack构建过程中，通过在特定的事件阶段，注入相应的逻辑来达到想要的效果。<br></p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    module<span class="token punctuation">.</span>exports<span class="token operator">=</span><span class="token punctuation">{</span>
        <span class="token operator">...</span>
        plugins<span class="token operator">:</span><span class="token punctuation">[</span>
            <span class="token comment">// 显示出被替换模块的名称</span>
            <span class="token keyword">new</span> <span class="token class-name">NamedModulesPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
             <span class="token comment">//定义全局环境变量的值</span>
            <span class="token keyword">new</span> <span class="token class-name">DefinePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
              <span class="token comment">// 定义 NODE_ENV 环境变量为 production</span>
              <span class="token string">'process.env'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token constant">NODE_ENV</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token string">'production'</span><span class="token punctuation">)</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token comment">//清除文件夹（在打包时使用）</span>
            <span class="token keyword">new</span> <span class="token class-name">CleanWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'dist'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token comment">//生成模板文件，生成默认开始页面的文件，默认为index.html</span>
            <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
              title<span class="token operator">:</span> <span class="token string">'Output Management'</span><span class="token punctuation">,</span>
              filename<span class="token operator">:</span><span class="token string">&quot;index.html&quot;</span><span class="token punctuation">,</span>
              template<span class="token operator">:</span><span class="token string">&quot;index.html&quot;</span><span class="token punctuation">,</span>
              inject<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//将所有的资源注入到template指定的index.html中。</span>
              
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token comment">//压缩代码（只在生产环境下使用）</span>
            <span class="token keyword">new</span> <span class="token class-name">UglifyJSPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
              cache<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//是否使文件缓存</span>
              parallel<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//并行压缩代码</span>
              sourceMap<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//是否为打包后的代码生成源码</span>
              compress<span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token comment">// 在UglifyJs删除没有用到的代码时不输出警告</span>
                warnings<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token comment">// 删除所有的 `console` 语句，可以兼容ie浏览器</span>
                drop_console<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                <span class="token comment">// 内嵌定义了但是只用到一次的变量</span>
                collapse_vars<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                <span class="token comment">// 提取出出现多次但是没有定义成变量去引用的静态值</span>
                reduce_vars<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                dead_code<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//删除无用代码</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              output<span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token comment">// 最紧凑的输出</span>
                beautify<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token comment">// 删除所有的注释</span>
                comments<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token comment">//Scope Hoisting 作用域提升，使得代码体积更小，内存开销也更小 ,</span>
            <span class="token keyword">new</span> <span class="token class-name">ModuleConcatenationPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token comment">//在 Webpack 输出最终的代码之前，对这些代码进行优化</span>
            <span class="token keyword">new</span> <span class="token class-name">PrepackWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token comment">// 生成动态链接库文件，一般会单独新建dll.config.js文件，调用此插件，把一些公共常用的第三方模块打包成一个动态链接库。动态链接库只需要编译一次，在之后的构建过程中被动态链接库包含的模块将不会在重新编译，而是直接使用动态链接库中的代码。</span>
            <span class="token keyword">new</span> <span class="token class-name">DllPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
              <span class="token comment">// 动态链接库的全局变量名称，需要和 output.library 中保持一致</span>
              <span class="token comment">// 该字段的值也就是输出的 manifest.json 文件 中 name 字段的值</span>
              <span class="token comment">// 例如 react.manifest.json 中就有 &quot;name&quot;: &quot;_dll_react&quot;</span>
              name<span class="token operator">:</span> <span class="token string">'_dll_[name]'</span><span class="token punctuation">,</span>
              <span class="token comment">// 描述动态链接库的 manifest.json 文件输出时的文件名称</span>
              path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">,</span> <span class="token string">'[name].manifest.json'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token comment">// 告诉 Webpack 使用了哪些动态链接库</span>
            <span class="token keyword">new</span> <span class="token class-name">DllReferencePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
              <span class="token comment">// 描述 react 动态链接库的文件内容</span>
              manifest<span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./dist/react.manifest.json'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token comment">// 该插件的作用就是实现模块热替换，实际上当启动时带上 `--hot` 参数，会注入该插件，生成 .hot-update.json 文件。</span>
            <span class="token keyword">new</span> <span class="token class-name">HotModuleReplacementPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token comment">//自动加载模块，而不必到处 import 或 require 。</span>
            <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ProvidePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
              $<span class="token operator">:</span> <span class="token string">'jquery'</span><span class="token punctuation">,</span>
              jQuery<span class="token operator">:</span> <span class="token string">'jquery'</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br></div></div><p><strong>3.6 DevServer</strong></p> <p>  此配置项为webpack-dev-server的专有配置项。除了在DevServer中进行配置外，还可以通过命令行参数传入。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    module<span class="token punctuation">.</span>exports<span class="token operator">=</span><span class="token punctuation">{</span>
        <span class="token operator">...</span>
        devServer<span class="token operator">:</span><span class="token punctuation">{</span>
            hot<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//是否启用 webpack 的模块热替换功能。DevServer 默认的行为是在发现源代码被更新后会通过自动刷新整个页面来做到实时预览，开启模块热替换功能后将在不刷新整个页面的情况下通过用新模块替换老模块来做到实时预览。</span>
            inline<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//DevServer 的实时预览功能依赖一个注入到页面里的代理客户端去接受来自 DevServer 的命令和负责刷新网页的工作。inline 用于配置是否自动注入这个代理客户端到将运行在页面里的 Chunk 里去，默认是会自动注入。</span>
            contentBase<span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token comment">//配置 DevServer HTTP 服务器的文件根目录。 默认情况下为当前执行目录，通常是项目根目录.</span>
            <span class="token comment">//可以在 HTTP 响应中注入一些 HTTP 响应头，</span>
            headers<span class="token operator">:</span><span class="token punctuation">{</span>
                <span class="token string">'X-foo'</span><span class="token operator">:</span><span class="token string">'bar'</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            host<span class="token operator">:</span><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token punctuation">,</span><span class="token comment">//配置监听地址</span>
            port<span class="token operator">:</span><span class="token number">8080</span><span class="token punctuation">,</span><span class="token comment">//配置监听端口号</span>
            open<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//是否自动打开浏览器，</span>
            openPage<span class="token operator">:</span><span class="token string">&quot;index.html&quot;</span><span class="token punctuation">,</span><span class="token comment">//配置浏览器自启时的网页</span>
            allowedHosts： <span class="token punctuation">[</span>
              <span class="token string">'host.com'</span><span class="token punctuation">,</span>
              <span class="token string">'subdomain.host.com'</span><span class="token punctuation">,</span>
              <span class="token string">'subdomain2.host.com'</span><span class="token punctuation">,</span>
              <span class="token string">'host2.com'</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token comment">//配置一个白名单列表，只有 HTTP 请求的 HOST 在列表里才正常返回</span>
            compress<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//是否开启gzip压缩。默认为false</span>
            <span class="token comment">//展示编译信息</span>
            overlay<span class="token operator">:</span> <span class="token punctuation">{</span>
              warnings<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
              errors<span class="token operator">:</span> <span class="token boolean">true</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            quiet<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//启用 quiet 后，除了初始启动信息之外的任何内容都不会被打印到控制台。这也意味着来自 webpack 的错误或警告在控制台不可见。</span>
            <span class="token comment">//设置前端代理，访问后台</span>
            
            stats<span class="token operator">:</span><span class="token string">&quot;errors-only&quot;</span><span class="token punctuation">,</span><span class="token comment">//控制展示webpack构建信息</span>
            proxy<span class="token operator">:</span><span class="token punctuation">{</span>
                <span class="token string">&quot;/api&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://localhost:3000&quot;</span><span class="token punctuation">,</span><span class="token comment">//表示后端服务接口地址为http://localhost:3000/api</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token comment">//配置多个代理路径</span>
            proxy<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
              context<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;/auth&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;/api&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              target<span class="token operator">:</span> <span class="token string">&quot;http://localhost:3000&quot;</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token keyword">public</span><span class="token operator">:</span><span class="token string">&quot;myapp.test:80&quot;</span><span class="token punctuation">,</span><span class="token comment">//当启用内联模式时（inline：true），内联的客户端脚本所在的目录。</span>
            <span class="token keyword">public</span>：<span class="token string">&quot;/assets/&quot;</span><span class="token punctuation">,</span><span class="token comment">//此路径下的打包文件可在浏览器中访问.http://localhost:8080/assets/bundle.js可以范围打包后的bundle.js文件。</span>
            
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div><p><strong>3.7 其他常见配置项</strong></p> <ul><li>devtool：配置 Webpack 如何生成 Source Map。有很多配置项。可以使用SourceMapDevToolPlugin插件来替换该配置，进行更细粒度的控制。</li> <li>target：webpack 能够为多种环境或 target 构建编译。webpack 为目标(target)指定一个环境。target 的取值可以为 web（默认，浏览器环境）、node（node 环境，使用 require 加载 chunk 代码，此时源码中的 require(&quot;fs&quot;)中的方式模块不会打包到 chunk 里）、async-node（异步加载 chunk 代码）、webworker、electron-main、electron-renderer。</li> <li>watch：false,为true时表示启用 Watch 模式。这意味着在初始构建之后，webpack 将继续监听任何已解析文件的更改。Watch 模式默认关闭。<strong>在使用 DevServer 时，监听模式默认是开启的。</strong></li> <li>watchOptions：在watch为true时，才有效。</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>
    module<span class="token punctuation">.</span>exports<span class="token operator">=</span><span class="token punctuation">{</span>
        <span class="token operator">...</span>
        devtool<span class="token operator">:</span><span class="token string">&quot;cheap-source-map&quot;</span><span class="token punctuation">,</span> <span class="token comment">//转换过的代码（仅限行)</span>
        devtool<span class="token operator">:</span><span class="token string">&quot;cheap-source-map&quot;</span><span class="token punctuation">,</span><span class="token comment">//原始源代码</span>
        <span class="token comment">//开发环境的配置</span>
        devtool<span class="token operator">:</span><span class="token string">&quot;eval&quot;</span><span class="token punctuation">,</span><span class="token comment">//生成后的代码 ,每个模块相互分离，并用模块名称进行注释。</span>
        devtool<span class="token operator">:</span><span class="token string">&quot;eval-source-map&quot;</span><span class="token punctuation">,</span><span class="token comment">//原始源代码</span>
        devtool<span class="token operator">:</span><span class="token string">&quot;cheap-eval-source-map&quot;</span><span class="token punctuation">,</span><span class="token comment">//转换过的代码（仅限行），它会忽略源自 loader 的 source map，并且仅显示转译后的代码</span>
        devtool<span class="token operator">:</span><span class="token string">&quot;cheap-module-eval-source-map&quot;</span><span class="token punctuation">,</span><span class="token comment">//原始源代码（仅限行），源自 loader 的 source map 会得到更好的处理结果</span>
        <span class="token comment">//生产环境的配置</span>
        devtool<span class="token operator">:</span><span class="token punctuation">(</span>none<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//省略该项配置 //打包后的代码,所有生成的代码视为一大块代码。你看不到相互分离的模块。</span>
        devtool<span class="token operator">:</span><span class="token string">&quot;source-map&quot;</span><span class="token punctuation">,</span> <span class="token comment">//原始源代码，便于调试。它为 bundle 添加了一个引用注释，以便开发工具知道在哪里可以找到它。</span>
        devtool<span class="token operator">:</span><span class="token string">&quot;hidden-source-map&quot;</span><span class="token punctuation">,</span><span class="token comment">//与 source-map 相同，但不会为 bundle 添加引用注释。如果你只想 source map 映射那些源自错误报告的错误堆栈跟踪信息，但不想为浏览器开发工具暴露你的 source map，这个选项会很有用。</span>
        devtool<span class="token operator">:</span><span class="token string">&quot;nosources-source-map&quot;</span><span class="token punctuation">,</span><span class="token comment">//创建的 source map 不包含 sourcesContent(源代码内容)。它可以用来映射客户端上的堆栈跟踪，而无须暴露所有的源代码。</span>
        target：<span class="token string">&quot;web&quot;</span><span class="token punctuation">,</span><span class="token comment">//默认值，浏览器环境</span>
        target：<span class="token string">&quot;node&quot;</span><span class="token punctuation">,</span><span class="token comment">//node环境</span>
        watch<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//在使用 DevServer 时，监听模式默认是开启的。</span>
        <span class="token comment">//在watch配置为true时，下面的配置项才会生效。</span>
        watchOptions：<span class="token punctuation">{</span>
            ignored<span class="token operator">:</span> <span class="token regex">/node_modules/</span><span class="token punctuation">,</span><span class="token comment">//不监听的文件夹</span>
            aggregateTimeout：<span class="token number">300</span><span class="token punctuation">,</span><span class="token comment">//监听到变化发生后会等300ms再去执行动作，防止文件更新太快导致重新编译频率太高</span>
            poll：<span class="token number">1000</span><span class="token punctuation">,</span><span class="token comment">//多久轮询一次</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><ul><li>externals：防止将某些 import 的包(package)打包到 bundle 中，而是在运行时(runtime)再去从外部获取这些扩展依赖。</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token comment">//在index.html以外联脚本的方式引入脚本文件</span>
    <span class="token operator">&lt;</span>script
      src<span class="token operator">=</span><span class="token string">&quot;https://code.jquery.com/jquery-3.1.0.js&quot;</span>
      integrity<span class="token operator">=</span><span class="token string">&quot;sha256-slogkvB1K3VOkzAI8QITxV3VzpOnkeNVsKvtkYLMjfk=&quot;</span>
      crossorigin<span class="token operator">=</span><span class="token string">&quot;anonymous&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
    <span class="token comment">//在配置文件中就可以通过如下配置，不讲jquery打包。</span>
    module<span class="token punctuation">.</span>exports<span class="token operator">=</span><span class="token punctuation">{</span>
        <span class="token operator">...</span>
        externals<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token comment">//string类型</span>
          $<span class="token operator">:</span> <span class="token string">'jQuery'</span><span class="token punctuation">,</span>
          <span class="token comment">//Array类型</span>
          subtract<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'./math'</span><span class="token punctuation">,</span> <span class="token string">'subtract'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token comment">//表示的是。用subtract去代替./math/subtract方法。</span>
          <span class="token comment">//Object类型</span>
          lodash <span class="token operator">:</span> <span class="token punctuation">{</span>
            commonjs<span class="token operator">:</span> <span class="token string">&quot;lodash&quot;</span><span class="token punctuation">,</span>
            amd<span class="token operator">:</span> <span class="token string">&quot;lodash&quot;</span><span class="token punctuation">,</span>
            root<span class="token operator">:</span> <span class="token string">&quot;_&quot;</span> <span class="token comment">// 指向全局变量</span>
          <span class="token punctuation">}</span>

        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><ul><li>performance：这些选项可以控制 webpack 如何通知「资源(asset)和入口起点超过指定文件限制」。</li> <li>stat：webpack构建时的统计信息。</li> <li>node:配置是否 polyfill 或 mock 某些 Node.js 全局变量和模块。这可以使最初为 Node.js 环境编写的代码，在其他环境（如浏览器）中运行。此功能由 webpack 内部的 NodeStuffPlugin 插件提供。</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    module<span class="token punctuation">.</span>exports<span class="token operator">=</span><span class="token punctuation">{</span>
        performance：<span class="token punctuation">{</span>
            maxEntrypointSize<span class="token operator">:</span> <span class="token number">400000</span><span class="token punctuation">,</span><span class="token comment">//默认值是：250000 (bytes)。入口起点文件的最大体积。控制 webpack 何时生成性能提示.</span>
            maxAssetSize：<span class="token number">100000</span><span class="token punctuation">,</span><span class="token comment">//资源(asset)是从 webpack 生成的任何文件,控制 webpack 何时生成性能提示。默认值是：250000 (bytes)。</span>
            hints<span class="token operator">:</span><span class="token boolean">false</span> <span class="token operator">|</span> <span class="token string">&quot;error&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;warning&quot;</span><span class="token punctuation">,</span><span class="token comment">//打开或关闭提示。此属性默认设置为 &quot;warning&quot;。可以以提醒或错误的方式提醒你文件大小是否超过你设置的大小。</span>
            <span class="token comment">//对提示文件进行一个过滤。</span>
            <span class="token function-variable function">assetFilter</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">assetFilename</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> assetFilename<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">'.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        stas<span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token comment">// `webpack --colors` 等同于</span>
            colors<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            <span class="token comment">// 添加错误的详细信息（就像解析日志一样）</span>
            errorDetails<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token comment">// 添加时间信息</span>
            timings<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token comment">// 添加 webpack 版本信息</span>
            version<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">//以下是默认值。从 webpack 3.0.0 开始，node 选项可能被设置为 false，以完全关闭 NodeStuffPlugin 和 NodeSourcePlugin 插件。</span>
        node<span class="token operator">:</span><span class="token punctuation">{</span>
            console<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span><span class="token comment">// 什么都不提供。预期获取此对象的代码，可能会因为获取不到此对象，触发 ReferenceError 而崩溃</span>
            global<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//为true时表示提供 polyfill。</span>
            process<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            __filename<span class="token operator">:</span> <span class="token string">&quot;mock&quot;</span><span class="token punctuation">,</span><span class="token comment">//提供 mock 实现预期接口，但功能很少或没有。</span>
            __dirname<span class="token operator">:</span> <span class="token string">&quot;mock&quot;</span><span class="token punctuation">,</span>
            Buffer<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            setImmediate<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><p><strong>3.8 整体配置</strong></p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    module<span class="token punctuation">.</span>exports<span class="token operator">=</span><span class="token punctuation">{</span>
        context<span class="token operator">:</span>__dirname<span class="token punctuation">,</span> <span class="token comment">// Webpack 使用的根目录，入口文件所处的目录的绝对路径的字符串。</span>
        <span class="token comment">/********entry配置*******/</span>
        entry<span class="token operator">:</span><span class="token string">'./app/entry'</span><span class="token punctuation">,</span>	<span class="token comment">//入口模块的文件路径，可以是相对路径。</span>
        entry<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'./app/entry1'</span><span class="token punctuation">,</span> <span class="token string">'./app/entry2'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token comment">//入口模块的文件路径，可以是相对路径。只有1个入口,两个入口文件</span>
        entry<span class="token operator">:</span><span class="token punctuation">{</span> 
            a<span class="token operator">:</span> <span class="token string">'./app/entry-a'</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'./app/entry-b1'</span><span class="token punctuation">,</span> <span class="token string">'./app/entry-b2'</span><span class="token punctuation">]</span>
            <span class="token comment">//配置多个入口，每个入口生成一个 Chunk。两个入口。</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">//同步函数</span>
        <span class="token function-variable function">entry</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token punctuation">{</span>
            index<span class="token operator">:</span> <span class="token string">&quot;@/pages/index&quot;</span><span class="token punctuation">,</span>
            user<span class="token operator">:</span> <span class="token string">&quot;@pages/user&quot;</span>
          <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token comment">//异步函数</span>
        <span class="token function-variable function">entry</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
               a<span class="token operator">:</span><span class="token string">'./pages/a'</span><span class="token punctuation">,</span>
               b<span class="token operator">:</span><span class="token string">'./pages/b'</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">/********entry配置*******/</span>
        <span class="token comment">/********output配置*******/</span>
        output<span class="token operator">:</span><span class="token punctuation">{</span>
             <span class="token comment">//如果只有一个输出文件，则可以把它写成静态不变的。</span>
            filename<span class="token operator">:</span><span class="token string">'bundle.js'</span><span class="token punctuation">,</span>
            <span class="token comment">//多个 Chunk 要输出时,可以根据 Chunk 的名称来区分输出的文件名</span>
            filename<span class="token operator">:</span> <span class="token string">'[name].js'</span><span class="token punctuation">,</span><span class="token comment">//可以将[name]看成字符串模板函数。该name为内置的哈希值。</span>
            filename<span class="token operator">:</span> <span class="token string">'[chunkhash].js'</span><span class="token punctuation">,</span> <span class="token comment">// 根据文件内容 hash 值生成文件名称，用于浏览器长时间缓存文件</span>
            chunkFilename<span class="token operator">:</span><span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">.</span>js<span class="token punctuation">,</span><span class="token comment">//配置无入口的 Chunk 在输出时的文件名称。常见的会在运行时生成 Chunk 场景有在使用 CommonChunkPlugin、使用 import('path/to/module') 动态加载等时。</span>
            sourceMapFilename<span class="token operator">:</span> <span class="token string">&quot;[file].map&quot;</span><span class="token punctuation">,</span><span class="token comment">//此选项会向硬盘写入一个输出文件，只在 devtool 启用了 SourceMap 选项时才使用。</span>
            path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//输出文件存放在本地的目录</span>
            publicPath：<span class="token string">'https://cdn.example.com/assets/'</span><span class="token punctuation">,</span><span class="token comment">//加载异步资源对应的 URL 地址。</span>
            publicPath<span class="token operator">:</span><span class="token string">&quot;/dist&quot;</span><span class="token punctuation">,</span><span class="token comment">//放到指定目录下</span>
            publicPath：<span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token comment">//放到根目录下</span>
            <span class="token comment">//配置以何种方式导出库。注意，此选项与分配给 output.library 的值一同使用</span>
            libraryTarget<span class="token operator">:</span><span class="token string">&quot;var&quot;</span><span class="token punctuation">,</span><span class="token comment">//（默认值）当 library 加载完成，入口起点的返回值将分配给一个变量：</span>
            libraryTarget<span class="token operator">:</span> <span class="token string">&quot;this&quot;</span><span class="token punctuation">,</span><span class="token comment">//入口起点的返回值将分配给 this 的一个属性（此名称由 output.library 定义）</span>
            libraryTarget<span class="token operator">:</span> <span class="token string">&quot;window&quot;</span><span class="token punctuation">,</span><span class="token comment">//分配给 window 对象</span>
            libraryTarget<span class="token operator">:</span> <span class="token string">&quot;global&quot;</span><span class="token punctuation">,</span><span class="token comment">//分配给 global 对象</span>
            libraryTarget<span class="token operator">:</span> <span class="token string">&quot;commonjs&quot;</span><span class="token punctuation">,</span><span class="token comment">//入口起点的返回值将使用 output.library 中定义的值，分配给 exports 对象。</span>
            libraryTarget<span class="token operator">:</span> <span class="token string">&quot;commonjs2&quot;</span><span class="token punctuation">,</span><span class="token comment">//入口起点的返回值将分配给 module.exports 对象</span>
            libraryTarget<span class="token operator">:</span> <span class="token string">&quot;amd&quot;</span><span class="token punctuation">,</span><span class="token comment">//将你的 library 暴露为 AMD 模块。</span>
            libraryTarget<span class="token operator">:</span> <span class="token string">&quot;umd&quot;</span><span class="token punctuation">,</span><span class="token comment">//将你的 library 暴露为所有的模块定义下都可运行的方式</span>
            library<span class="token operator">:</span> <span class="token string">&quot;MyLibrary&quot;</span><span class="token punctuation">,</span>
            <span class="token operator">...</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
         <span class="token comment">/********output配置*******/</span>
         <span class="token comment">/********module配置*******/</span>
        module<span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token comment">//让 Webpack 忽略对部分没采用模块化的文件的递归解析和处理。</span>
            noParse： <span class="token operator">/</span>jquery<span class="token operator">|</span>chartjs<span class="token operator">/</span>
            <span class="token comment">// 从 webpack 3.0.0 开始，也可以是函数</span>
            <span class="token function-variable function">noParse</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">content</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
               <span class="token keyword">return</span> <span class="token operator">/</span>jquery<span class="token operator">|</span>lodash<span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            rules<span class="token operator">:</span><span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    test<span class="token operator">:</span> <span class="token regex">/\.js$/</span><span class="token punctuation">,</span><span class="token comment">//转码执行后缀的文件，一般是正则表达式。可为数组</span>
                    use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'babel-loader?cacheDirectory'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token comment">//?cacheDirectory 表示传给 babel-loader 的参数，用于缓存 babel 编译结果加快重新编译速度。是loader 属性的简写方式.（如：use: [ { loader: &quot;style-loader &quot;} ]）。</span>
                    include<span class="token operator">:</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">&quot;src&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//只命中src文件夹下的就是文件。可为数组</span>
                    <span class="token comment">//解析选项对象。可以更细粒度的配置哪些模块语法要解析哪些不解析</span>
                    parser<span class="token operator">:</span><span class="token punctuation">{</span>
                        amd<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 禁用 AMD</span>
                        commonjs<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 禁用 CommonJS</span>
                        system<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 禁用 SystemJS</span>
                        harmony<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 禁用 ES2015 Harmony import/export</span>
                        requireInclude<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 禁用 require.include</span>
                        requireEnsure<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 禁用 require.ensure</span>
                        requireContext<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 禁用 require.context</span>
                        browserify<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 禁用特殊处理的 browserify bundle</span>
                        requireJs<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 禁用 requirejs.*</span>
                        node<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 禁用 __dirname, __filename, module, require.extensions, require.main 等。</span>
                        node<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span> <span class="token comment">// 在模块级别(module level)上重新配置 node 层(layer)</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    exclude<span class="token operator">:</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">'node_modules'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//排除node_module文件夹下的js文件。可为数组。</span>
                    
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>
                    test<span class="token operator">:</span> <span class="token regex">/\.scss$/</span><span class="token punctuation">,</span>
                    <span class="token comment">// 使用一组 Loader 去处理 SCSS 文件。处理顺序为从后到前，即先交给 sass-loader 处理，再把结果交给 css-loader 最后再给 style-loader。</span>
                    use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span> <span class="token string">'sass-loader'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                    <span class="token comment">// 排除 node_modules 目录下的文件</span>
                    exclude<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'node_modules'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>   
                    test<span class="token operator">:</span> <span class="token regex">/\.js$/</span><span class="token punctuation">,</span>
                    <span class="token comment">//use等同loaders</span>
                    use<span class="token operator">:</span><span class="token punctuation">[</span>
                        loader<span class="token operator">:</span><span class="token string">'babel-loader'</span><span class="token punctuation">,</span>
                        <span class="token comment">//在 Loader 需要传入很多参数时，你还可以通过一个 Object 来描述。</span>
                        options<span class="token operator">:</span><span class="token punctuation">{</span>
                          cacheDirectory<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
                        <span class="token punctuation">}</span><span class="token punctuation">,</span>
                        <span class="token comment">// enforce:'post' 的含义是把该 Loader 的执行顺序放到最后。 enforce 的值还可以是 pre，代表把 Loader 的执行顺序放到最前面</span>
                        enforce<span class="token operator">:</span><span class="token string">'post'</span>
                    <span class="token punctuation">]</span>
                 <span class="token punctuation">}</span><span class="token punctuation">,</span>
                 <span class="token comment">//loader还可以采用链式写法。loader从右到左的被调用</span>
                 <span class="token punctuation">{</span>
                    test<span class="token operator">:</span><span class="token regex">/\.css$/</span>
                     use<span class="token operator">:</span> <span class="token punctuation">[</span>
                      <span class="token string">'style-loader'</span><span class="token punctuation">,</span>
                      <span class="token punctuation">{</span>
                        loader<span class="token operator">:</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span>
                        <span class="token comment">//</span>
                        options<span class="token operator">:</span> <span class="token punctuation">{</span>
                          importLoaders<span class="token operator">:</span> <span class="token number">1</span>
                        <span class="token punctuation">}</span>
                      <span class="token punctuation">}</span><span class="token punctuation">,</span>
                      <span class="token punctuation">{</span>
                        loader<span class="token operator">:</span> <span class="token string">'less-loader'</span><span class="token punctuation">,</span>
                        options<span class="token operator">:</span> <span class="token punctuation">{</span>
                          noIeCompat<span class="token operator">:</span> <span class="token boolean">true</span>
                        <span class="token punctuation">}</span>
                      <span class="token punctuation">}</span>
                    <span class="token punctuation">]</span>
                 <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// 配置插件</span>
        plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
             <span class="token comment">//定义全局环境变量的值</span>
            <span class="token keyword">new</span> <span class="token class-name">DefinePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
              <span class="token comment">// 定义 NODE_ENV 环境变量为 production</span>
              <span class="token string">'process.env'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token constant">NODE_ENV</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token string">'production'</span><span class="token punctuation">)</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token comment">//清除文件夹（在打包时使用）</span>
            <span class="token keyword">new</span> <span class="token class-name">CleanWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'dist'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token comment">//生成模板文件，生成默认开始页面的文件，默认为index.html</span>
            <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
              title<span class="token operator">:</span> <span class="token string">'Output Management'</span><span class="token punctuation">,</span>
              filename<span class="token operator">:</span><span class="token string">&quot;index.html&quot;</span><span class="token punctuation">,</span>
              template<span class="token operator">:</span><span class="token string">&quot;index.html&quot;</span><span class="token punctuation">,</span>
              inject<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//将所有的资源注入到template指定的index.html中。</span>
              
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token comment">//压缩代码（只在生产环境下使用）</span>
            <span class="token keyword">new</span> <span class="token class-name">UglifyJSPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
              cache<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//是否使文件缓存</span>
              parallel<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//并行压缩代码</span>
              sourceMap<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//是否为打包后的代码生成源码</span>
              compress<span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token comment">// 在UglifyJs删除没有用到的代码时不输出警告</span>
                warnings<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token comment">// 删除所有的 `console` 语句，可以兼容ie浏览器</span>
                drop_console<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                <span class="token comment">// 内嵌定义了但是只用到一次的变量</span>
                collapse_vars<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                <span class="token comment">// 提取出出现多次但是没有定义成变量去引用的静态值</span>
                reduce_vars<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                dead_code<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//删除无用代码</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              output<span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token comment">// 最紧凑的输出</span>
                beautify<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token comment">// 删除所有的注释</span>
                comments<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token comment">//Scope Hoisting 作用域提升，使得代码体积更小，内存开销也更小 ,</span>
            <span class="token keyword">new</span> <span class="token class-name">ModuleConcatenationPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token comment">//在 Webpack 输出最终的代码之前，对这些代码进行优化</span>
            <span class="token keyword">new</span> <span class="token class-name">PrepackWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token comment">// 生成动态链接库文件，一般会单独新建dll.config.js文件，调用此插件，把一些公共常用的第三方模块打包成一个动态链接库。动态链接库只需要编译一次，在之后的构建过程中被动态链接库包含的模块将不会在重新编译，而是直接使用动态链接库中的代码。</span>
            <span class="token keyword">new</span> <span class="token class-name">DllPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
              <span class="token comment">// 动态链接库的全局变量名称，需要和 output.library 中保持一致</span>
              <span class="token comment">// 该字段的值也就是输出的 manifest.json 文件 中 name 字段的值</span>
              <span class="token comment">// 例如 react.manifest.json 中就有 &quot;name&quot;: &quot;_dll_react&quot;</span>
              name<span class="token operator">:</span> <span class="token string">'_dll_[name]'</span><span class="token punctuation">,</span>
              <span class="token comment">// 描述动态链接库的 manifest.json 文件输出时的文件名称</span>
              path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">,</span> <span class="token string">'[name].manifest.json'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token comment">// 告诉 Webpack 使用了哪些动态链接库</span>
            <span class="token keyword">new</span> <span class="token class-name">DllReferencePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
              <span class="token comment">// 描述 react 动态链接库的文件内容</span>
              manifest<span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./dist/react.manifest.json'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token comment">// 该插件的作用就是实现模块热替换，实际上当启动时带上 `--hot` 参数，会注入该插件，生成 .hot-update.json 文件。</span>
            <span class="token keyword">new</span> <span class="token class-name">HotModuleReplacementPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token comment">//自动加载模块，而不必到处 import 或 require 。</span>
            <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ProvidePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
              $<span class="token operator">:</span> <span class="token string">'jquery'</span><span class="token punctuation">,</span>
              jQuery<span class="token operator">:</span> <span class="token string">'jquery'</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token comment">// 配置寻找模块的规则</span>
        resolve<span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token comment">//通过别名来把原导入路径映射成一个新的导入路径</span>
            alias<span class="token operator">:</span><span class="token punctuation">{</span>
                <span class="token string">'components'</span><span class="token operator">:</span> <span class="token string">'./src/components/'</span><span class="token punctuation">,</span>
                <span class="token string">'@'</span><span class="token operator">:</span><span class="token string">&quot;./src&quot;</span><span class="token punctuation">,</span>
                 <span class="token operator">~</span><span class="token operator">:</span><span class="token string">&quot;./src&quot;</span><span class="token punctuation">,</span>
                <span class="token string">'vue$'</span><span class="token operator">:</span> <span class="token string">'vue/dist/vue.esm.js'</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span>
            <span class="token comment">//指定一个字段，例如 browser(浏览器环境)，根据此规范进行解析。只会使用找到的第一个</span>
            aliasFields<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'browser'</span><span class="token punctuation">,</span> <span class="token string">'main'</span><span class="token punctuation">]</span>
            descriptionFiles<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&quot;package.json&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token comment">//描述文件</span>
            enforceExtension<span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token comment">//是否强制扩展名</span>
            extensions<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&quot;.js&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;.json&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token comment">//自动解析的扩展,导入语句没带文件后缀时，Webpack 会自动带上后缀后去尝试访问文件是否存在.</span>
            modules：<span class="token punctuation">[</span><span class="token string">'./src/components'</span><span class="token punctuation">,</span><span class="token string">'node_modules'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token comment">//告诉 webpack 解析模块时应该搜索的目录。绝对路径和相对路径都能使用。  </span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">//开发模式下的服务器配置</span>
        devServer<span class="token operator">:</span><span class="token punctuation">{</span>
            hot<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//是否启用 webpack 的模块热替换功能。DevServer 默认的行为是在发现源代码被更新后会通过自动刷新整个页面来做到实时预览，开启模块热替换功能后将在不刷新整个页面的情况下通过用新模块替换老模块来做到实时预览。</span>
            inline<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//DevServer 的实时预览功能依赖一个注入到页面里的代理客户端去接受来自 DevServer 的命令和负责刷新网页的工作。inline 用于配置是否自动注入这个代理客户端到将运行在页面里的 Chunk 里去，默认是会自动注入。</span>
            contentBase<span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token comment">//配置 DevServer HTTP 服务器的文件根目录。 默认情况下为当前执行目录，通常是项目根目录.</span>
            <span class="token comment">//可以在 HTTP 响应中注入一些 HTTP 响应头，</span>
            headers<span class="token operator">:</span><span class="token punctuation">{</span>
                <span class="token string">'X-foo'</span><span class="token operator">:</span><span class="token string">'bar'</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            host<span class="token operator">:</span><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token punctuation">,</span><span class="token comment">//配置监听地址</span>
            port<span class="token operator">:</span><span class="token number">8080</span><span class="token punctuation">,</span><span class="token comment">//配置监听端口号</span>
            open<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//是否自动打开浏览器，</span>
            openPage<span class="token operator">:</span><span class="token string">&quot;index.html&quot;</span><span class="token punctuation">,</span><span class="token comment">//配置浏览器自启时的网页</span>
            allowedHosts： <span class="token punctuation">[</span>
              <span class="token string">'host.com'</span><span class="token punctuation">,</span>
              <span class="token string">'subdomain.host.com'</span><span class="token punctuation">,</span>
              <span class="token string">'subdomain2.host.com'</span><span class="token punctuation">,</span>
              <span class="token string">'host2.com'</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token comment">//配置一个白名单列表，只有 HTTP 请求的 HOST 在列表里才正常返回</span>
            compress<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//是否开启gzip压缩。默认为false</span>
            <span class="token comment">//展示编译信息</span>
            overlay<span class="token operator">:</span> <span class="token punctuation">{</span>
              warnings<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
              errors<span class="token operator">:</span> <span class="token boolean">true</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            quiet<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//启用 quiet 后，除了初始启动信息之外的任何内容都不会被打印到控制台。这也意味着来自 webpack 的错误或警告在控制台不可见。</span>
            <span class="token comment">//设置前端代理，访问后台</span>
            
            stats<span class="token operator">:</span><span class="token string">&quot;errors-only&quot;</span><span class="token punctuation">,</span><span class="token comment">//控制展示webpack构建信息</span>
            proxy<span class="token operator">:</span><span class="token punctuation">{</span>
                <span class="token string">&quot;/api&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://localhost:3000&quot;</span><span class="token punctuation">,</span><span class="token comment">//表示后端服务接口地址为http://localhost:3000/api</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token comment">//配置多个代理路径</span>
            proxy<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
              context<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;/auth&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;/api&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              target<span class="token operator">:</span> <span class="token string">&quot;http://localhost:3000&quot;</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token keyword">public</span><span class="token operator">:</span><span class="token string">&quot;myapp.test:80&quot;</span><span class="token punctuation">,</span><span class="token comment">//当启用内联模式时（inline：true），内联的客户端脚本所在的目录。</span>
            <span class="token keyword">public</span>：<span class="token string">&quot;/assets/&quot;</span><span class="token punctuation">,</span><span class="token comment">//此路径下的打包文件可在浏览器中访问.http://localhost:8080/assets/bundle.js可以范围打包后的bundle.js文件。  </span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">//source map配置</span>
        devtool<span class="token operator">:</span><span class="token string">&quot;cheap-source-map&quot;</span><span class="token punctuation">,</span> <span class="token comment">//转换过的代码（仅限行)</span>
        devtool<span class="token operator">:</span><span class="token string">&quot;cheap-source-map&quot;</span><span class="token punctuation">,</span><span class="token comment">//原始源代码</span>
        <span class="token comment">//开发环境的配置</span>
        devtool<span class="token operator">:</span><span class="token string">&quot;eval&quot;</span><span class="token punctuation">,</span><span class="token comment">//生成后的代码 ,每个模块相互分离，并用模块名称进行注释。</span>
        devtool<span class="token operator">:</span><span class="token string">&quot;eval-source-map&quot;</span><span class="token punctuation">,</span><span class="token comment">//原始源代码</span>
        devtool<span class="token operator">:</span><span class="token string">&quot;cheap-eval-source-map&quot;</span><span class="token punctuation">,</span><span class="token comment">//转换过的代码（仅限行），它会忽略源自 loader 的 source map，并且仅显示转译后的代码</span>
        devtool<span class="token operator">:</span><span class="token string">&quot;cheap-module-eval-source-map&quot;</span><span class="token punctuation">,</span><span class="token comment">//原始源代码（仅限行），源自 loader 的 source map 会得到更好的处理结果</span>
        <span class="token comment">//生产环境的配置</span>
        devtool<span class="token operator">:</span><span class="token punctuation">(</span>none<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//省略该项配置 //打包后的代码,所有生成的代码视为一大块代码。你看不到相互分离的模块。</span>
        devtool<span class="token operator">:</span><span class="token string">&quot;source-map&quot;</span><span class="token punctuation">,</span> <span class="token comment">//原始源代码，便于调试。它为 bundle 添加了一个引用注释，以便开发工具知道在哪里可以找到它。</span>
        devtool<span class="token operator">:</span><span class="token string">&quot;hidden-source-map&quot;</span><span class="token punctuation">,</span><span class="token comment">//与 source-map 相同，但不会为 bundle 添加引用注释。如果你只想 source map 映射那些源自错误报告的错误堆栈跟踪信息，但不想为浏览器开发工具暴露你的 source map，这个选项会很有用。</span>
        devtool<span class="token operator">:</span><span class="token string">&quot;nosources-source-map&quot;</span><span class="token punctuation">,</span><span class="token comment">//创建的 source map 不包含 sourcesContent(源代码内容)。它可以用来映射客户端上的堆栈跟踪，而无须暴露所有的源代码。</span>
        externals<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 使用来自 JavaScript 运行环境提供的全局变量</span>
            <span class="token comment">//string类型</span>
            $<span class="token operator">:</span> <span class="token string">'jQuery'</span><span class="token punctuation">,</span>
            <span class="token comment">//Array类型</span>
            subtract<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'./math'</span><span class="token punctuation">,</span> <span class="token string">'subtract'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token comment">//表示的是。用subtract去代替./math/subtract方法。</span>
            <span class="token comment">//Object类型</span>
            lodash <span class="token operator">:</span> <span class="token punctuation">{</span>
                commonjs<span class="token operator">:</span> <span class="token string">&quot;lodash&quot;</span><span class="token punctuation">,</span>
                amd<span class="token operator">:</span> <span class="token string">&quot;lodash&quot;</span><span class="token punctuation">,</span>
                root<span class="token operator">:</span> <span class="token string">&quot;_&quot;</span> <span class="token comment">// 指向全局变量</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// 配置输出代码的运行环境</span>
        target<span class="token operator">:</span> <span class="token string">'web'</span><span class="token punctuation">,</span> <span class="token comment">// 浏览器，默认</span>
        target<span class="token operator">:</span> <span class="token string">'webworker'</span><span class="token punctuation">,</span> <span class="token comment">// WebWorker</span>
        target<span class="token operator">:</span> <span class="token string">'node'</span><span class="token punctuation">,</span> <span class="token comment">// Node.js，使用 `require` 语句加载 Chunk 代码</span>
        target<span class="token operator">:</span> <span class="token string">'async-node'</span><span class="token punctuation">,</span> <span class="token comment">// Node.js，异步加载 Chunk 代码</span>
        target<span class="token operator">:</span> <span class="token string">'node-webkit'</span><span class="token punctuation">,</span> <span class="token comment">// nw.js</span>
        target<span class="token operator">:</span> <span class="token string">'electron-main'</span><span class="token punctuation">,</span> <span class="token comment">// electron, 主线程</span>
        target<span class="token operator">:</span> <span class="token string">'electron-renderer'</span><span class="token punctuation">,</span> <span class="token comment">// electron, 渲染线程</span>
        <span class="token comment">//开启监听模式</span>
        watch<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//在使用 DevServer 时，监听模式默认是开启的。</span>
        <span class="token comment">//在watch配置为true时，下面的配置项才会生效。</span>
        watchOptions：<span class="token punctuation">{</span>
            ignored<span class="token operator">:</span> <span class="token regex">/node_modules/</span><span class="token punctuation">,</span><span class="token comment">//不监听的文件夹</span>
            aggregateTimeout：<span class="token number">300</span><span class="token punctuation">,</span><span class="token comment">//监听到变化发生后会等300ms再去执行动作，防止文件更新太快导致重新编译频率太高</span>
            poll：<span class="token number">1000</span><span class="token punctuation">,</span><span class="token comment">//多久轮询一次</span>
        <span class="token punctuation">}</span>
        stats<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 控制台输出日志控制,webpack构建时的统计信息。</span>
            assets<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//添加资源信息</span>
            colors<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">// `webpack --colors` 等同于</span>
            errors<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//输出错误信息</span>
            errorDetails<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//// 添加错误的详细信息（就像解析日志一样）</span>
            hash<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//添加 compilation 的哈希值</span>
            version<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//添加尾巴爬虫库版本信息</span>
            performance<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">// 当文件大小超过 `performance.maxAssetSize` 时显示性能提示</span>
            modules<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">// 添加构建模块信息,</span>
            <span class="token comment">// 添加时间信息</span>
            timings<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>

        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// 输出文件性能检查配置,这些选项可以控制 webpack 如何通知「资源(asset)和入口起点超过指定文件限制」。</span>
        performance<span class="token operator">:</span><span class="token punctuation">{</span>
            maxEntrypointSize<span class="token operator">:</span> <span class="token number">400000</span><span class="token punctuation">,</span><span class="token comment">//默认值是：250000 (bytes)。入口起点文件的最大体积。控制 webpack 何时生成性能提示.</span>
            maxAssetSize：<span class="token number">100000</span><span class="token punctuation">,</span><span class="token comment">//资源(asset)是从 webpack 生成的任何文件,控制 webpack 何时生成性能提示。默认值是：250000 (bytes)。</span>
            hints<span class="token operator">:</span><span class="token boolean">false</span> <span class="token operator">|</span> <span class="token string">&quot;error&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;warning&quot;</span><span class="token punctuation">,</span><span class="token comment">//打开或关闭提示。此属性默认设置为 &quot;warning&quot;。可以以提醒或错误的方式提醒你文件大小是否超过你设置的大小。</span>
            <span class="token comment">//对提示文件进行一个过滤。</span>
            <span class="token function-variable function">assetFilter</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">assetFilename</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> assetFilename<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">'.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>  
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        
        <span class="token comment">//配置是否 polyfill 或 mock 某些 Node.js 全局变量和模块。这可以使最初为 Node.js 环境编写的代码，在其他环境（如浏览器）中运行。此功能由 webpack 内部的 NodeStuffPlugin 插件提供。</span>
        node<span class="token operator">:</span><span class="token punctuation">{</span>
            console<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span><span class="token comment">// 什么都不提供。预期获取此对象的代码，可能会因为获取不到此对象，触发 ReferenceError 而崩溃</span>
            global<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//为true时表示提供 polyfill。</span>
            process<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            __filename<span class="token operator">:</span> <span class="token string">&quot;mock&quot;</span><span class="token punctuation">,</span><span class="token comment">//提供 mock 实现预期接口，但功能很少或没有。</span>
            __dirname<span class="token operator">:</span> <span class="token string">&quot;mock&quot;</span><span class="token punctuation">,</span>
            Buffer<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            setImmediate<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
      
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br><span class="line-number">189</span><br><span class="line-number">190</span><br><span class="line-number">191</span><br><span class="line-number">192</span><br><span class="line-number">193</span><br><span class="line-number">194</span><br><span class="line-number">195</span><br><span class="line-number">196</span><br><span class="line-number">197</span><br><span class="line-number">198</span><br><span class="line-number">199</span><br><span class="line-number">200</span><br><span class="line-number">201</span><br><span class="line-number">202</span><br><span class="line-number">203</span><br><span class="line-number">204</span><br><span class="line-number">205</span><br><span class="line-number">206</span><br><span class="line-number">207</span><br><span class="line-number">208</span><br><span class="line-number">209</span><br><span class="line-number">210</span><br><span class="line-number">211</span><br><span class="line-number">212</span><br><span class="line-number">213</span><br><span class="line-number">214</span><br><span class="line-number">215</span><br><span class="line-number">216</span><br><span class="line-number">217</span><br><span class="line-number">218</span><br><span class="line-number">219</span><br><span class="line-number">220</span><br><span class="line-number">221</span><br><span class="line-number">222</span><br><span class="line-number">223</span><br><span class="line-number">224</span><br><span class="line-number">225</span><br><span class="line-number">226</span><br><span class="line-number">227</span><br><span class="line-number">228</span><br><span class="line-number">229</span><br><span class="line-number">230</span><br><span class="line-number">231</span><br><span class="line-number">232</span><br><span class="line-number">233</span><br><span class="line-number">234</span><br><span class="line-number">235</span><br><span class="line-number">236</span><br><span class="line-number">237</span><br><span class="line-number">238</span><br><span class="line-number">239</span><br><span class="line-number">240</span><br><span class="line-number">241</span><br><span class="line-number">242</span><br><span class="line-number">243</span><br><span class="line-number">244</span><br><span class="line-number">245</span><br><span class="line-number">246</span><br><span class="line-number">247</span><br><span class="line-number">248</span><br><span class="line-number">249</span><br><span class="line-number">250</span><br><span class="line-number">251</span><br><span class="line-number">252</span><br><span class="line-number">253</span><br><span class="line-number">254</span><br><span class="line-number">255</span><br><span class="line-number">256</span><br><span class="line-number">257</span><br><span class="line-number">258</span><br><span class="line-number">259</span><br><span class="line-number">260</span><br><span class="line-number">261</span><br><span class="line-number">262</span><br><span class="line-number">263</span><br><span class="line-number">264</span><br><span class="line-number">265</span><br><span class="line-number">266</span><br><span class="line-number">267</span><br><span class="line-number">268</span><br><span class="line-number">269</span><br><span class="line-number">270</span><br><span class="line-number">271</span><br><span class="line-number">272</span><br><span class="line-number">273</span><br><span class="line-number">274</span><br><span class="line-number">275</span><br><span class="line-number">276</span><br><span class="line-number">277</span><br><span class="line-number">278</span><br><span class="line-number">279</span><br><span class="line-number">280</span><br><span class="line-number">281</span><br><span class="line-number">282</span><br><span class="line-number">283</span><br><span class="line-number">284</span><br><span class="line-number">285</span><br><span class="line-number">286</span><br><span class="line-number">287</span><br><span class="line-number">288</span><br><span class="line-number">289</span><br><span class="line-number">290</span><br><span class="line-number">291</span><br><span class="line-number">292</span><br><span class="line-number">293</span><br><span class="line-number">294</span><br><span class="line-number">295</span><br><span class="line-number">296</span><br><span class="line-number">297</span><br><span class="line-number">298</span><br><span class="line-number">299</span><br><span class="line-number">300</span><br><span class="line-number">301</span><br><span class="line-number">302</span><br><span class="line-number">303</span><br><span class="line-number">304</span><br><span class="line-number">305</span><br><span class="line-number">306</span><br><span class="line-number">307</span><br><span class="line-number">308</span><br><span class="line-number">309</span><br><span class="line-number">310</span><br><span class="line-number">311</span><br><span class="line-number">312</span><br><span class="line-number">313</span><br><span class="line-number">314</span><br><span class="line-number">315</span><br><span class="line-number">316</span><br><span class="line-number">317</span><br><span class="line-number">318</span><br><span class="line-number">319</span><br><span class="line-number">320</span><br><span class="line-number">321</span><br><span class="line-number">322</span><br><span class="line-number">323</span><br><span class="line-number">324</span><br><span class="line-number">325</span><br></div></div><p><strong>3.9 多种配置类型</strong></p> <p>  配置文件除了以Object的形式输出以外，还可以以function或者promise的形式输出,同时还可以导出多个配置对象。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token comment">//以对象的形式,需要写多个配置文件以适应&quot;开发和生产&quot;模式</span>
    module<span class="token punctuation">.</span>exports<span class="token operator">=</span><span class="token punctuation">{</span>
        entry<span class="token operator">:</span><span class="token string">&quot;app.js&quot;</span><span class="token punctuation">,</span>
        output<span class="token operator">:</span><span class="token punctuation">{</span>
            
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token operator">...</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//导出多个配置对象</span>
    module<span class="token punctuation">.</span>exports<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">{</span>
          output<span class="token operator">:</span> <span class="token punctuation">{</span>
            filename<span class="token operator">:</span> <span class="token string">'./dist-amd.js'</span><span class="token punctuation">,</span>
            libraryTarget<span class="token operator">:</span> <span class="token string">'amd'</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          entry<span class="token operator">:</span> <span class="token string">'./app.js'</span><span class="token punctuation">,</span>
          mode<span class="token operator">:</span> <span class="token string">'production'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
          output<span class="token operator">:</span> <span class="token punctuation">{</span>
            filename<span class="token operator">:</span> <span class="token string">'./dist-commonjs.js'</span><span class="token punctuation">,</span>
            libraryTarget<span class="token operator">:</span> <span class="token string">'commonjs'</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          entry<span class="token operator">:</span> <span class="token string">'./app.js'</span><span class="token punctuation">,</span>
          mode<span class="token operator">:</span> <span class="token string">'production'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token comment">//以function的形式,采用导出一个 Function 的方式，能通过 JavaScript 灵活的控制配置，做到只用写一个配置文件就能完成以上要求。</span>
    module<span class="token punctuation">.</span><span class="token function-variable function">exports</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">env<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>args</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">const</span> isProduction<span class="token operator">=</span>env<span class="token punctuation">[</span><span class="token string">&quot;production&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> plugins<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token comment">//返回的还是那些配置文件</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            plugins<span class="token operator">:</span> plugins<span class="token punctuation">,</span>
            <span class="token comment">// 在生成环境不输出 Source Map</span>
            devtool<span class="token operator">:</span> isProduction <span class="token operator">?</span> <span class="token keyword">undefined</span> <span class="token operator">:</span> <span class="token string">'source-map'</span><span class="token punctuation">,</span>
         <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//以promise的形式导出</span>
    module<span class="token punctuation">.</span><span class="token function-variable function">exports</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">env<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>args</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span>reject<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
              <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                entry<span class="token operator">:</span> <span class="token string">'./app.js'</span><span class="token punctuation">,</span>
                <span class="token comment">/* ... */</span>
              <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br></div></div><p>以函数的形式导出配置文件时。</p> <ul><li>env：当前运行时的 Webpack <strong>专属环境变量</strong>，env 是一个 Object。设置它需要在启动 Webpack 时带上参数。例如启动命令是 webpack --env.production --env.bao=foo时，则 env 的值是 {&quot;production&quot;:&quot;true&quot;,&quot;bao&quot;:&quot;foo&quot;}。</li> <li>args：代表在启动 Webpack 时所有通过命令行传入的参数。例如 --config、--env、--devtool、--progress、---watch，可以通过 webpack -h 列出所有 Webpack 支持的命令行参数。</li></ul> <h3 id="_4、常见优化手段"><a href="#_4、常见优化手段" class="header-anchor">#</a> 4、常见优化手段</h3> <p><strong>4.1 开发环境下的优化</strong></p> <ul><li>1、优化构建速度</li></ul> <p>   1)、缩小文件搜索范围(主要是对配置项中的module和resolve配置项进行优化)</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    module<span class="token punctuation">.</span>exports<span class="token operator">=</span><span class="token punctuation">{</span>
        <span class="token comment">//1、优化module配置项中的查找范围</span>
        module<span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token comment">//1、忽略对部分没采用模块化的文件的递归解析处理，这样做的好处是能提高构建性能。</span>
            noParse<span class="token operator">:</span><span class="token regex">/jQuery|ChartJS/</span><span class="token punctuation">,</span>
            rules<span class="token operator">:</span><span class="token punctuation">[</span>
                test<span class="token operator">:</span> <span class="token regex">/\.js$/</span><span class="token punctuation">,</span>
                use<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&quot;babel-loader&quot;</span><span class="token punctuation">]</span>
                include<span class="token operator">:</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//2、缩小搜索范围</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">//2、缩小resolve模块搜索范围</span>
        resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token comment">// 1、使用绝对路径指明第三方模块存放的位置，以减少搜索步骤</span>
            <span class="token comment">// 其中 __dirname 表示当前工作目录，也就是项目根目录</span>
            modules<span class="token operator">:</span> <span class="token punctuation">[</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'node_modules'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token comment">//2、在明确第三方模块的入口文件描述字段时。可以只采用 main（单个字段） 字段作为入口文件描述字段，以减少搜索步骤。</span>
            mainFields<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'main'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            alias<span class="token operator">:</span><span class="token punctuation">{</span>
                <span class="token string">&quot;@&quot;</span><span class="token operator">:</span><span class="token string">&quot;./src&quot;</span><span class="token punctuation">,</span><span class="token comment">//3、通过配置别名来跳过耗时的递归解析操作。</span>
            <span class="token punctuation">}</span>
            <span class="token comment">//4、这个列表越长，或者正确的后缀在越后面，就会造成尝试的次数越多</span>
            extensions<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'.js'</span><span class="token punctuation">,</span> <span class="token string">'.json'</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> 
        
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p>   2)、使用动态链接库（DllPlugin）</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token comment">//新建一个dll.config.js文件,跟平常的配置文件一样</span>
    <span class="token keyword">const</span> DllPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack/lib/DllPlugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    module<span class="token punctuation">.</span>export<span class="token operator">=</span><span class="token punctuation">{</span>
        entry<span class="token operator">:</span><span class="token punctuation">{</span>
            vender<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&quot;vue&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;axios&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;vue-router&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;vuex&quot;</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        output<span class="token operator">:</span><span class="token punctuation">{</span>
            path<span class="token operator">:</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">&quot;../src/static&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            filename<span class="token operator">:</span><span class="token string">&quot;[name].js&quot;</span><span class="token punctuation">,</span>
            library<span class="token operator">:</span><span class="token string">&quot;[name]_library&quot;</span>
        <span class="token punctuation">}</span>
        plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token comment">// 接入 DllPlugin</span>
            <span class="token keyword">new</span> <span class="token class-name">DllPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
              <span class="token comment">// 动态链接库的全局变量名称，需要和 output.library 中保持一致</span>
              <span class="token comment">// 该字段的值也就是输出的 manifest.json 文件 中 name 字段的值</span>
              <span class="token comment">// 例如 react.manifest.json 中就有 &quot;name&quot;: &quot;_dll_react&quot;</span>
              name<span class="token operator">:</span> <span class="token string">'_dll_[name]'</span><span class="token punctuation">,</span>
              <span class="token comment">// 描述动态链接库的 manifest.json 文件输出时的文件名称</span>
              path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">,</span> <span class="token string">'[name].manifest.json'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//在开发或生产环境配置文件中</span>
    <span class="token keyword">const</span> DllReferencePlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack/lib/DllReferencePlugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    module<span class="token punctuation">.</span>exports<span class="token operator">=</span><span class="token punctuation">{</span>
        <span class="token operator">...</span>
        plugins<span class="token operator">:</span><span class="token punctuation">[</span>
            <span class="token keyword">new</span> <span class="token class-name">DllReferencePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
              <span class="token comment">// 描述 react 动态链接库的文件内容</span>
              manifest<span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./dist/vender.manifest.json'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><p>   3)、使用HappyPack（并行loader去转换代码）</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token comment">//它把任务分解给多个子进程去并发的执行，子进程处理完后再把结果发送给主进程。</span>
    <span class="token keyword">const</span> HappyPack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'happypack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    module<span class="token punctuation">.</span>exports<span class="token operator">=</span><span class="token punctuation">{</span>
        module<span class="token operator">:</span><span class="token punctuation">{</span>
            rules<span class="token operator">:</span><span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    test<span class="token operator">:</span> <span class="token regex">/\.js$/</span><span class="token punctuation">,</span>
                    <span class="token comment">// 把对 .js 文件的处理转交给 id 为 babel 的 HappyPack 实例</span>
                    use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'happypack/loader?id=babel'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                    <span class="token comment">// 排除 node_modules 目录下的文件，node_modules 目录下的文件都是采用的 ES5 语法，没必要再通过 Babel 去转换</span>
                    exclude<span class="token operator">:</span> <span class="token regex">/node_modules/</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
                     <span class="token comment">// 把对 .css 文件的处理转交给 id 为 css 的 HappyPack 实例</span>
                    test<span class="token operator">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span>
                    use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'happypack/loader?id=css'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        plugins<span class="token operator">:</span><span class="token punctuation">[</span>
            <span class="token keyword">new</span> <span class="token class-name">HappyPack</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                <span class="token comment">// 用唯一的标识符 id 来代表当前的 HappyPack 是用来处理一类特定的文件</span>
                id<span class="token operator">:</span> <span class="token string">'babel'</span><span class="token punctuation">,</span>
                <span class="token comment">// 如何处理 .js 文件，用法和 Loader 配置中一样</span>
                loaders<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'babel-loader?cacheDirectory'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token comment">// ... 其它配置项</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token keyword">new</span> <span class="token class-name">HappyPack</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                <span class="token comment">// 用唯一的标识符 id 来代表当前的 HappyPack 是用来处理一类特定的文件</span>
                id<span class="token operator">:</span> <span class="token string">'css'</span><span class="token punctuation">,</span>
                <span class="token comment">// 如何处理 .js 文件，用法和 Loader 配置中一样</span>
                loaders<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'css-loader'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token comment">// ... 其它配置项</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><ul><li>2、优化用户体验</li></ul> <p>   1)、使用自动刷新</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    文件监听<span class="token operator">:</span>在发现源码文件发生变化时，自动重新构建出新的输出文件。是 webpack 模块提供的。
    文件监听原理：Webpack 中监听一个文件发生变化的原理是定时的去获取这个文件的最后编辑时间，每次都存下最新的最后编辑时间，如果发现当前获取的和最后一次保存的最后编辑时间不一致，就认为该文件发生了变化。
    自动刷新的原理：webpack 模块负责监听文件，webpack<span class="token operator">-</span>dev<span class="token operator">-</span>server 模块则负责刷新浏览器。 在使用 webpack<span class="token operator">-</span>dev<span class="token operator">-</span>server 模块去启动 webpack 模块时，webpack 模块的监听模式默认会被开启。
    控制浏览器刷新有三种方法：
    <span class="token number">1</span>、借助浏览器扩展去通过浏览器提供的接口刷新，WebStorm <span class="token constant">IDE</span> 的 LiveEdit 功能就是这样实现的。
    <span class="token number">2</span><span class="token function">、往要开发的网页中注入代理客户端代码，通过代理客户端去刷新整个页面。</span><span class="token punctuation">(</span>DevServer默认采用的，为输出的每个chunk注入代理客户端，是通过inline属性来控制的。<span class="token punctuation">)</span>
    <span class="token number">3</span>、把要开发的网页装进一个 iframe 中，通过刷新 iframe 去看到最新效果。
    module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token comment">// 只有在开启监听模式时，watchOptions 才有意义</span>
      <span class="token comment">// 默认为 false，也就是不开启</span>
      watch<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// 监听模式运行时的参数</span>
      <span class="token comment">// 在开启监听模式时，才有意义</span>
      watchOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// 不监听的文件或文件夹，支持正则匹配</span>
        <span class="token comment">// 默认为空</span>
        ignored<span class="token operator">:</span> <span class="token regex">/node_modules/</span><span class="token punctuation">,</span>
        <span class="token comment">// 监听到变化发生后会等300ms再去执行动作，防止文件更新太快导致重新编译频率太高</span>
        <span class="token comment">// 默认为 300ms</span>
        <span class="token comment">//值越大性能越好，因为这能降低重新构建的频率。</span>
        aggregateTimeout<span class="token operator">:</span> <span class="token number">300</span><span class="token punctuation">,</span>
        <span class="token comment">// 判断文件是否发生变化是通过不停的去询问系统指定文件有没有变化实现的</span>
        <span class="token comment">// 默认每隔1000毫秒询问一次</span>
        <span class="token comment">//值越大越好，因为这能降低检查的频率。</span>
        poll<span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p>   2)、开启模块热加载</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    模块热加载原理<span class="token operator">:</span>当一个源码发生变化时，只重新编译发生变化的模块，再用新输出的模块替换掉浏览器中对应的老模块。
    优点：
    <span class="token number">1</span>、实时预览反应更快，等待时间更短。
    <span class="token number">2</span>、不刷新浏览器，而且能保留当前网页的运行状态。
    module<span class="token punctuation">.</span>exports<span class="token operator">=</span><span class="token punctuation">{</span>
        devServer<span class="token operator">:</span><span class="token punctuation">{</span>
            hot<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    当子模块发生更新时，更新事件会一层层往上传递，直到有某层的文件接受了当前变化的模块，如果事件一直往上抛到最外层都没有文件接受它，就会直接刷新网页。
    优化模块热更新：在main<span class="token punctuation">.</span>js中注入如下代码。
    <span class="token keyword">if</span> <span class="token punctuation">(</span>module<span class="token punctuation">.</span>hot<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        module<span class="token punctuation">.</span>hot<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'./AppComponent'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//'./AppComponent':表示监听的模块；callback表示回调。</span>
    <span class="token punctuation">}</span>
    module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
      plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token comment">// 显示出被替换模块的名称</span>
        <span class="token keyword">new</span> <span class="token class-name">NamedModulesPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    注意：
    <span class="token number">1</span>、关闭默认的 inline 模式手动注入代理客户端的优化方法不能用于在使用模块热替换的情况下。
    <span class="token number">2</span>、监听更少的文件，忽略掉 node_modules 目录下的文件。 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p><strong>4.2 生产环境下的优化</strong></p> <ul><li>1、缩短首屏加载时间</li></ul> <p>   1)、区分环境<br>
   2)、压缩代码</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token number">1</span>、这里压缩的是<span class="token constant">ES6</span>代码。
    <span class="token keyword">const</span> UglifyESPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'uglifyjs-webpack-plugin'</span><span class="token punctuation">)</span>
    module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
      plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token keyword">new</span> <span class="token class-name">UglifyESPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token comment">// 多嵌套了一层，用于压缩ES6代码</span>
          uglifyOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
            compress<span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token comment">// 在UglifyJs删除没有用到的代码时不输出警告</span>
              warnings<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
              <span class="token comment">// 删除所有的 `console` 语句，可以兼容ie浏览器</span>
              drop_console<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
              <span class="token comment">// 内嵌定义了但是只用到一次的变量</span>
              collapse_vars<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
              <span class="token comment">// 提取出出现多次但是没有定义成变量去引用的静态值</span>
              reduce_vars<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            output<span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token comment">// 最紧凑的输出</span>
              beautify<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
              <span class="token comment">// 删除所有的注释</span>
              comments<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    <span class="token number">2</span>、压缩css代码
    <span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> ExtractTextPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'extract-text-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
      module<span class="token operator">:</span> <span class="token punctuation">{</span>
        rules<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            test<span class="token operator">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span><span class="token comment">// 增加对 CSS 文件的支持</span>
            <span class="token comment">// 提取出 Chunk 中的 CSS 代码到单独的文件中</span>
            use<span class="token operator">:</span> ExtractTextPlugin<span class="token punctuation">.</span><span class="token function">extract</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
              <span class="token comment">// 通过 minimize 选项压缩 CSS 代码</span>
              use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'css-loader?minimize'</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token keyword">new</span> <span class="token class-name">ExtractTextPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          filename<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">[name]_[contenthash:8].css</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span><span class="token comment">// 给输出的 CSS 文件名称加上 Hash 值</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br></div></div><p>   3)、使用CDN进行加速<br></p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>        <span class="token constant">CDN</span> 又叫内容分发网络，通过把资源部署到世界各地，用户在访问时按照就近原则从离用户最近的服务器获取资源，从而加速资源的获取速度。
        
        使用<span class="token constant">CDN</span>要注意的问题：
        <span class="token number">1</span>、针对 <span class="token constant">HTML</span> 文件：不开启缓存，把 <span class="token constant">HTML</span> 放到自己的服务器上，而不是 <span class="token constant">CDN</span> 服务上，同时关闭自己服务器上的缓存。
        <span class="token number">2</span>、针对静态的 JavaScript、<span class="token constant">CSS</span>、图片等文件：开启 <span class="token constant">CDN</span> 和缓存，上传到 <span class="token constant">CDN</span> 服务上去，同时给每个文件名带上由文件内容算出的 Hash 值。带上 Hash 值的原因是文件名会随着文件内容而变化，只要文件发生变化其对应的 <span class="token constant">URL</span> 就会变化，它就会被重新下载，无论缓存时间有多长。
        
        Webpack 实现 <span class="token constant">CDN</span> 的接入要注意一下几点：
        <span class="token number">1</span>、静态资源的导入 <span class="token constant">URL</span> 需要变成指向 <span class="token constant">CDN</span> 服务的绝对路径的 <span class="token constant">URL</span> 而不是相对于 <span class="token constant">HTML</span> 文件的 <span class="token constant">URL</span>。
        <span class="token number">2</span>、静态资源的文件名称需要带上有文件内容算出来的 Hash 值，以防止被缓存。
        <span class="token number">3</span>、不同类型的资源放到不同域名的 <span class="token constant">CDN</span> 服务上去，以防止资源的并行加载被阻塞。
        
        在webpack中的基本配置如下：
        <span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> ExtractTextPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'extract-text-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> htmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
          <span class="token comment">// 省略 entry 配置...</span>
          output<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token comment">// 给输出的 JavaScript 文件名称加上 Hash 值</span>
            filename<span class="token operator">:</span> <span class="token string">'[name]_[chunkhash:8].js'</span><span class="token punctuation">,</span>
            path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'./dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token comment">// 指定存放 JavaScript 文件的 CDN 目录 URL</span>
            publicPath<span class="token operator">:</span> <span class="token string">'//js.cdn.com/id/'</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          module<span class="token operator">:</span> <span class="token punctuation">{</span>
            rules<span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token punctuation">{</span>
                <span class="token comment">// 增加对 CSS 文件的支持</span>
                test<span class="token operator">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span>
                <span class="token comment">// 提取出 Chunk 中的 CSS 代码到单独的文件中</span>
                use<span class="token operator">:</span> ExtractTextPlugin<span class="token punctuation">.</span><span class="token function">extract</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                  <span class="token comment">// 压缩 CSS 代码</span>
                  use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'css-loader?minimize'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                  <span class="token comment">// 指定存放 CSS 中导入的资源（例如图片）的 CDN 目录 URL</span>
                  publicPath<span class="token operator">:</span> <span class="token string">'//img.cdn.com/id/'</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token comment">// 使用 WebPlugin 自动生成 HTML</span>
            <span class="token keyword">new</span> <span class="token class-name">htmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
              <span class="token comment">// HTML 模版文件所在的文件路径</span>
              template<span class="token operator">:</span> <span class="token string">'./template.html'</span><span class="token punctuation">,</span>
              <span class="token comment">// 输出的 HTML 的文件名称</span>
              filename<span class="token operator">:</span> <span class="token string">'index.html'</span><span class="token punctuation">,</span>
              <span class="token comment">// 指定存放 CSS 文件的 CDN 目录 URL</span>
              stylePublicPath<span class="token operator">:</span> <span class="token string">'//css.cdn.com/id/'</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token keyword">new</span> <span class="token class-name">ExtractTextPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
              <span class="token comment">// 给输出的 CSS 文件名称加上 Hash 值</span>
              filename<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">[name]_[contenthash:8].css</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token comment">// 省略代码压缩插件配置...</span>
          <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br></div></div><p>   4)、使用Tree-Shaking删除无用的代码</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    Tree Shaking 可以用来剔除 JavaScript 中用不上的死代码。它依赖静态的 <span class="token constant">ES6</span> 模块化语法。
    
    Tree Shaking的局限性在于：
    <span class="token number">1</span>、不会对entry入口文件做 Tree Shaking。
    <span class="token number">2</span>、不会对异步分割出去的代码做 Tree Shaking。
    
    想要是Tree Shaking起作用，需要做到这几步。
    <span class="token number">1</span>、修改<span class="token punctuation">.</span>babelrc 文件
    <span class="token punctuation">{</span>
      <span class="token string">&quot;presets&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">[</span>
          <span class="token string">&quot;env&quot;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token string">&quot;modules&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    <span class="token number">2</span><span class="token function">、使用代码压缩</span><span class="token punctuation">(</span>在命令行中加上<span class="token operator">--</span>optimize<span class="token operator">-</span>minimize<span class="token punctuation">)</span>
    module<span class="token punctuation">.</span>exports<span class="token operator">=</span><span class="token punctuation">{</span>
         resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token comment">// 针对 Npm 中的第三方模块优先采用 jsnext:main 中指向的 ES6 模块化语法的文件（Tree Shaking只对ES6模块化语法的文件起作用，所以需要如下配置。）</span>
            mainFields<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'jsnext:main'</span><span class="token punctuation">,</span> <span class="token string">'browser'</span><span class="token punctuation">,</span> <span class="token string">'main'</span><span class="token punctuation">]</span>
         <span class="token punctuation">}</span><span class="token punctuation">,</span>
        plugins<span class="token operator">:</span><span class="token punctuation">[</span>
            <span class="token keyword">new</span> <span class="token class-name">UglifyJSPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p>   5)、进行按需加载（使用import()）<br>
   6)、提取公共代码</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    module<span class="token punctuation">.</span>exports<span class="token operator">=</span><span class="token punctuation">{</span>
        <span class="token operator">...</span>
        optimization<span class="token operator">:</span><span class="token punctuation">{</span>
            splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
    	     	cacheGroups<span class="token operator">:</span><span class="token punctuation">{</span> 					<span class="token comment">// 这里开始设置缓存的</span>
    	         	vendor<span class="token operator">:</span> <span class="token punctuation">{</span> 					<span class="token comment">// key 为entry中定义的 入口名称</span>
    	         		priority<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> 			<span class="token comment">// 缓存组优先级</span>
    	             	chunks<span class="token operator">:</span> <span class="token string">&quot;all&quot;</span><span class="token punctuation">,</span>
    	             	test<span class="token operator">:</span> <span class="token regex">/[\\/]node_modules[\\/]babel-runtime/</span><span class="token punctuation">,</span>
    	             	name<span class="token operator">:</span> <span class="token string">'babel-runtime'</span><span class="token punctuation">,</span>
    	         	<span class="token punctuation">}</span>
    	     	<span class="token punctuation">}</span>
    		<span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><ul><li>2、提升代码性能（流畅度）</li></ul> <p>   1)、开启 Scope Hoisting（较少函数声明语句）</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    Scope Hoisting 可以让 Webpack 打包出来的代码文件更小、运行的更快， 它又译作 <span class="token string">&quot;作用域提升&quot;</span>。Scope Hoisting 的实现原理其实很简单：分析出模块之间的依赖关系，尽可能的把打散的模块合并到一个函数中去，但前提是不能造成代码冗余。 因此只有那些被引用了一次的模块才能被合并。因此源码必须采用 <span class="token constant">ES6</span> 模块化语句，不然它将无法生效。 
    
    使用Scope Hoisting的好处：
    <span class="token number">1</span>、代码体积更小，因为函数声明语句会产生大量代码；
    <span class="token number">2</span>、代码在运行时因为创建的函数作用域更少了，内存开销也随之变小。
    
    <span class="token keyword">const</span> ModuleConcatenationPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack/lib/optimize/ModuleConcatenationPlugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
      resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// 针对 Npm 中的第三方模块优先采用 jsnext:main 中指向的 ES6 模块化语法的文件</span>
        mainFields<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'jsnext:main'</span><span class="token punctuation">,</span> <span class="token string">'browser'</span><span class="token punctuation">,</span> <span class="token string">'main'</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token comment">// 开启 Scope Hoisting</span>
        <span class="token keyword">new</span> <span class="token class-name">ModuleConcatenationPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>  后记：至于webpack的原理及loader和plugin的原理及编写这里就不在啰嗦了。这样的资料网上一搜一大把。这片文档主要是对webpack的配置及优化做了一些总结。资料来源主要是《升入浅出webpack》和webpack的官网。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/articles/vue/vue常见知识点总结.html" class="prev">vue常见知识点总结</a></span> <span class="next"><a href="/articles/其他/canvas.html">canvas</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.c1d9b9ee.js" defer></script><script src="/assets/js/2.c7d58fa6.js" defer></script><script src="/assets/js/31.1e9e6434.js" defer></script>
  </body>
</html>
