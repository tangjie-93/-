{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{157:function(o,s,e){\"use strict\";e.r(s);var i=e(0),_=Object(i.a)({},(function(){var o=this,s=o.$createElement,e=o._self._c||s;return e(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":o.$parent.slotKey}},[e(\"h2\",{attrs:{id:\"_1、cookie\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1、cookie\"}},[o._v(\"#\")]),o._v(\" 1、cookie\")]),o._v(\" \"),e(\"p\",[o._v(\"  cookie存在于浏览器端，是客户端保存用户信息的一种机制，用来记录用户的一些信息。是通过扩展HTTP协议来实现的，服务器通过在HTTP的响应头加上一行特殊的指示(\"),e(\"code\",[o._v(\"set-cookie\")]),o._v(\")以提示浏览器按照指示生成对应的cookie。主要用于以下三个方面。\")]),o._v(\" \"),e(\"ul\",[e(\"li\",[o._v(\"1、会话状态管理（保存用户登录状态等需要记录的信息）\")]),o._v(\" \"),e(\"li\",[o._v(\"2、个性化设置（用户自定义主题、设置等）\")]),o._v(\" \"),e(\"li\",[o._v(\"3、浏览器行为跟踪（跟踪分析用户行为）\")])]),o._v(\" \"),e(\"p\",[e(\"strong\",[o._v(\"cookie的原理：\")])]),o._v(\" \"),e(\"ul\",[e(\"li\",[o._v(\"1、网络服务器用HTTP头想客户端发送cookies,在客户端，浏览器解析这cookies并将它们保存为一个文件。\")]),o._v(\" \"),e(\"li\",[o._v(\"2、当客户端向服务器请求数据时，会自动带上cookie发送到服务器。\")])]),o._v(\" \"),e(\"p\",[e(\"strong\",[o._v(\"cookie的存活时间\")])]),o._v(\" \"),e(\"p\",[o._v(\"  cookie的内容包括：名字、值、过期时间、路径和域。路径和域一起构成cookie的作用范围。如果不设置过期时间，则表示该cookie的生命周期为浏览器会话期间，关闭浏览器窗口，cookie就消失，一般保存在内存中（\"),e(\"code\",[o._v(\"会话cookie\")]),o._v(\"），如果设置了过期时间，该cookie则会被保存到硬盘里(\"),e(\"code\",[o._v(\"硬盘cookie\")]),o._v(\")。\")]),o._v(\" \"),e(\"h2\",{attrs:{id:\"_2、sessionstorage\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2、sessionstorage\"}},[o._v(\"#\")]),o._v(\" 2、sessionStorage\")]),o._v(\" \"),e(\"p\",[o._v(\"  客户端的存储，基于html5，本地存储。可以将数据在当前会话中保存下来。\"),e(\"strong\",[o._v(\"刷新页面数据依然存在，但是关闭页面后，sessionStorage中的数据就会被清空。\")])]),o._v(\" \"),e(\"h2\",{attrs:{id:\"_3、localstorage\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3、localstorage\"}},[o._v(\"#\")]),o._v(\" 3、localStorage\")]),o._v(\" \"),e(\"p\",[o._v(\"  是HTML5标准中新添加的技术。本地存储，存储在本地硬盘。除非手动清除，否则永久保存。\")]),o._v(\" \"),e(\"h2\",{attrs:{id:\"_4、cookie-localstorage-与-sessionstorage的区别\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_4、cookie-localstorage-与-sessionstorage的区别\"}},[o._v(\"#\")]),o._v(\" 4、Cookie, localStorage 与 sessionStorage的区别\")]),o._v(\" \"),e(\"ul\",[e(\"li\",[o._v(\"1、数据的周期生命\\n  cookie可设置失效时间，\"),e(\"strong\",[o._v(\"默认是关闭浏览器后失效。\")]),o._v(\"\\n  localStorage除非被手动清除，否则永久保存。\\n  sessionStorage仅在当前会话下有效，关闭页面或浏览器后被清除。\")]),o._v(\" \"),e(\"li\",[o._v(\"2、存放数据大小\\n  单个cookie一般4k左右。localStorage和sessionStorage一般5M左右。\")]),o._v(\" \"),e(\"li\",[o._v(\"3、与服务器通信\\n  cookie每次都会携带在HTTP头中，如果使用cookie保存过多数据会带来性能问题。\\n  localStorage和sessionStorage仅在客户端（即浏览器）中保存，不参与和服务器的通信\")]),o._v(\" \"),e(\"li\",[o._v(\"4、易用性\\n  cookie需要程序员自己封装，源生的Cookie接口不友好。localStorage和sessionStorage都有封装好的接口。\")])]),o._v(\" \"),e(\"h2\",{attrs:{id:\"_5、session\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_5、session\"}},[o._v(\"#\")]),o._v(\" 5、session\")]),o._v(\" \"),e(\"p\",[o._v(\"  session存在于服务器端，依赖于cookie(\"),e(\"code\",[o._v(\"cookie可以被认为的禁止，所以有其他机制可以在cookie被禁用时，仍然能够把sessionId传递到服务器\")]),o._v(\")。是服务端保存的一个数据结构，用来跟踪用户的状态。可以保存在内存、数据库和文件中。\"),e(\"br\")]),o._v(\" \"),e(\"p\",[e(\"strong\",[o._v(\"session的原理：\")])]),o._v(\" \"),e(\"ul\",[e(\"li\",[o._v(\"1、用户第一次请求服务器的时候，服务器根据用户提交的相关信息，创建一个对应的session对象，并向客户端响应了一个cookie，cookie里面保存了sessionId，这个时候会话才开始,（\"),e(\"code\",[o._v(\"关闭浏览器会话也不会结束\")]),o._v(\"）并根据sessionId在session池中寻找有没有该session，没有则将之添加到session池。（\"),e(\"code\",[o._v(\"有一个默认存放时间，被取出时会重新设置默认存放时间\")]),o._v(\"）。\")]),o._v(\" \"),e(\"li\",[o._v(\"2、用户第二次请求时，请求会自动判断此域名下是否存在 Cookie 信息，如果存在会将cookie信息也发送给服务器。服务器根据客户端中的cookie中的sessionId去session池中寻找会话。如果找到session证明该用户已经登录并且可以执行后面的操作。\")])]),o._v(\" \"),e(\"p\",[e(\"strong\",[o._v(\"cookie被禁用时的处理\")])]),o._v(\" \"),e(\"ul\",[e(\"li\",[o._v(\"1、URL重写,把sessionId直接附加在URL路径的后面。\")]),o._v(\" \"),e(\"li\",[o._v(\"2、表单隐藏域(表单隐藏字段\"),e(\"code\",[o._v('type=\"hidden\"')]),o._v(\"),服务器会自动修改表单，添加一个隐藏字段，以便在表单提交时能够把sessionId传递回服务器。\")])]),o._v(\" \"),e(\"p\",[e(\"strong\",[o._v(\"session会话结束的两种情况：\")])]),o._v(\" \"),e(\"ul\",[e(\"li\",[o._v(\"1、服务器端的session超时。\")]),o._v(\" \"),e(\"li\",[o._v(\"2、用户将客户端的cookie给清除了(\"),e(\"code\",[o._v(\"session依赖cookie\")]),o._v(\")。\")])]),o._v(\" \"),e(\"h2\",{attrs:{id:\"_6、cookie和session的区别？\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_6、cookie和session的区别？\"}},[o._v(\"#\")]),o._v(\" 6、cookie和session的区别？\")]),o._v(\" \"),e(\"ul\",[e(\"li\",[e(\"strong\",[o._v(\"1、存取方式的不同\")])])]),o._v(\" \"),e(\"p\",[o._v(\"  cookie中只能保存ASCII字符串，如果需要存取Unicode字符或者二进制数据，需要先进行转码。\"),e(\"br\"),o._v(\"\\n  session能够存取任何类型的数据，包括但不限于String、Integer、List、Map等。\")]),o._v(\" \"),e(\"ul\",[e(\"li\",[e(\"strong\",[o._v(\"2、隐私策略的不同\")])])]),o._v(\" \"),e(\"p\",[o._v(\"  cookie存储在客户端中，对客户是可见的，客户端的一些程序可能会窥探、复制以至修正cookie中的内容。\"),e(\"br\"),o._v(\"\\n  session存储在服务器上，对客户是透明的，不存在敏感信息泄露的风险。\")]),o._v(\" \"),e(\"ul\",[e(\"li\",[e(\"strong\",[o._v(\"3、有效期上的不同\")])])]),o._v(\" \"),e(\"p\",[o._v(\"  cookie可以设置过期时间来保存用户信息在客户端保存的期限。\"),e(\"br\"),o._v(\"\\n  session依赖cookie，一旦cookie被清除，session就会失效。或者当客户端关闭会话，session超时失效导致会话结束。\")]),o._v(\" \"),e(\"ul\",[e(\"li\",[e(\"strong\",[o._v(\"4、服务器压力的不同\")])])]),o._v(\" \"),e(\"p\",[o._v(\"  cookie保管在客户端，不占用服务器资源。\"),e(\"br\"),o._v(\"\\n  session是保管在服务器端的，每个用户都会产生一个session。加入并发的用户非常多，会产生大量的session，消耗大量的内存。\")]),o._v(\" \"),e(\"ul\",[e(\"li\",[e(\"strong\",[o._v(\"5、浏览器支持的不同\")])])]),o._v(\" \"),e(\"p\",[o._v(\"  cookie是需要客户端支持的。假如客户端禁用了cookie或者不支持cookie，则会话跟踪会失效。\"),e(\"br\"),o._v(\"\\n  假如客户端浏览器不支持cookie，则需要运用session及URL地址重写或者采用表单隐藏域。\"),e(\"br\"),o._v(\"\\n  假如客户端支持cookie，则cookie可以设置为在本浏览器窗口以及子窗口内有效，也能够设为一切阅读器窗口内有效。但是session只能在本阅读器窗口及其子窗口内有效。假如两个浏览器窗口互不相干，它们将运用不同的session。\")]),o._v(\" \"),e(\"ul\",[e(\"li\",[e(\"strong\",[o._v(\"6、跨域支持上的不同\")])])]),o._v(\" \"),e(\"p\",[o._v(\"  cookie支持跨域名访问。session不支持跨域名访问。仅在它所在的域名内有效。\")]),o._v(\" \"),e(\"ul\",[e(\"li\",[e(\"strong\",[o._v(\"7、存储大小的不同\")])])]),o._v(\" \"),e(\"p\",[o._v(\"  单个cookie保存的数据不能超过4k，session就没有这个限制。\")])])}),[],!1,null,null,null);s.default=_.exports}}]);","extractedComments":[]}